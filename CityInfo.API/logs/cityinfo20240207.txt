2024-02-07 13:32:59.310 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-02-07 13:32:59.408 +01:00 [DBG] Hosting starting
2024-02-07 13:32:59.415 +01:00 [INF] User profile is available. Using '/Users/iediong/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2024-02-07 13:32:59.417 +01:00 [DBG] Reading data from file '/Users/iediong/.aspnet/DataProtection-Keys/key-5cba4a3e-92cc-49c6-b7df-537bcedc035b.xml'.
2024-02-07 13:32:59.420 +01:00 [DBG] Reading data from file '/Users/iediong/.aspnet/DataProtection-Keys/key-87f24bd7-6b8e-4d43-8d92-819ef4f82424.xml'.
2024-02-07 13:32:59.421 +01:00 [DBG] Reading data from file '/Users/iediong/.aspnet/DataProtection-Keys/key-996077a3-d3b1-446c-b432-318370b2edeb.xml'.
2024-02-07 13:32:59.422 +01:00 [DBG] Reading data from file '/Users/iediong/.aspnet/DataProtection-Keys/key-ea2f1fd2-45c8-40ac-a18e-9ccecade0392.xml'.
2024-02-07 13:32:59.426 +01:00 [DBG] Found key {5cba4a3e-92cc-49c6-b7df-537bcedc035b}.
2024-02-07 13:32:59.428 +01:00 [DBG] Found key {87f24bd7-6b8e-4d43-8d92-819ef4f82424}.
2024-02-07 13:32:59.432 +01:00 [DBG] Found key {996077a3-d3b1-446c-b432-318370b2edeb}.
2024-02-07 13:32:59.432 +01:00 [DBG] Found key {ea2f1fd2-45c8-40ac-a18e-9ccecade0392}.
2024-02-07 13:32:59.437 +01:00 [DBG] Considering key {996077a3-d3b1-446c-b432-318370b2edeb} with expiration date 2023-12-20 16:17:02Z as default key.
2024-02-07 13:32:59.438 +01:00 [DBG] Key {996077a3-d3b1-446c-b432-318370b2edeb} is no longer under consideration as default key because it is expired, revoked, or cannot be deciphered.
2024-02-07 13:32:59.439 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-02-07 13:32:59.444 +01:00 [DBG] Using managed symmetric algorithm 'System.Security.Cryptography.Aes'.
2024-02-07 13:32:59.444 +01:00 [DBG] Using managed keyed hash algorithm 'System.Security.Cryptography.HMACSHA256'.
2024-02-07 13:32:59.450 +01:00 [DBG] Repository contains no viable default key. Caller should generate a key with immediate activation.
2024-02-07 13:32:59.450 +01:00 [DBG] Policy resolution states that a new key should be added to the key ring.
2024-02-07 13:32:59.453 +01:00 [INF] Creating key {96f35ae7-b2a9-4212-9318-cf5879807393} with creation date 2024-02-07 12:32:59Z, activation date 2024-02-07 12:32:59Z, and expiration date 2024-05-07 12:32:59Z.
2024-02-07 13:32:59.456 +01:00 [DBG] Descriptor deserializer type for key {96f35ae7-b2a9-4212-9318-cf5879807393} is 'Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60'.
2024-02-07 13:32:59.457 +01:00 [DBG] No key escrow sink found. Not writing key {96f35ae7-b2a9-4212-9318-cf5879807393} to escrow.
2024-02-07 13:32:59.457 +01:00 [WRN] No XML encryptor configured. Key {96f35ae7-b2a9-4212-9318-cf5879807393} may be persisted to storage in unencrypted form.
2024-02-07 13:32:59.457 +01:00 [INF] Writing data to file '/Users/iediong/.aspnet/DataProtection-Keys/key-96f35ae7-b2a9-4212-9318-cf5879807393.xml'.
2024-02-07 13:32:59.457 +01:00 [DBG] Key cache expiration token triggered by 'CreateNewKey' operation.
2024-02-07 13:32:59.458 +01:00 [DBG] Reading data from file '/Users/iediong/.aspnet/DataProtection-Keys/key-5cba4a3e-92cc-49c6-b7df-537bcedc035b.xml'.
2024-02-07 13:32:59.458 +01:00 [DBG] Reading data from file '/Users/iediong/.aspnet/DataProtection-Keys/key-87f24bd7-6b8e-4d43-8d92-819ef4f82424.xml'.
2024-02-07 13:32:59.458 +01:00 [DBG] Reading data from file '/Users/iediong/.aspnet/DataProtection-Keys/key-996077a3-d3b1-446c-b432-318370b2edeb.xml'.
2024-02-07 13:32:59.458 +01:00 [DBG] Reading data from file '/Users/iediong/.aspnet/DataProtection-Keys/key-96f35ae7-b2a9-4212-9318-cf5879807393.xml'.
2024-02-07 13:32:59.458 +01:00 [DBG] Reading data from file '/Users/iediong/.aspnet/DataProtection-Keys/key-ea2f1fd2-45c8-40ac-a18e-9ccecade0392.xml'.
2024-02-07 13:32:59.458 +01:00 [DBG] Found key {5cba4a3e-92cc-49c6-b7df-537bcedc035b}.
2024-02-07 13:32:59.458 +01:00 [DBG] Found key {87f24bd7-6b8e-4d43-8d92-819ef4f82424}.
2024-02-07 13:32:59.458 +01:00 [DBG] Found key {996077a3-d3b1-446c-b432-318370b2edeb}.
2024-02-07 13:32:59.458 +01:00 [DBG] Found key {96f35ae7-b2a9-4212-9318-cf5879807393}.
2024-02-07 13:32:59.459 +01:00 [DBG] Found key {ea2f1fd2-45c8-40ac-a18e-9ccecade0392}.
2024-02-07 13:32:59.459 +01:00 [DBG] Considering key {96f35ae7-b2a9-4212-9318-cf5879807393} with expiration date 2024-05-07 12:32:59Z as default key.
2024-02-07 13:32:59.459 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-02-07 13:32:59.459 +01:00 [DBG] Using managed symmetric algorithm 'System.Security.Cryptography.Aes'.
2024-02-07 13:32:59.459 +01:00 [DBG] Using managed keyed hash algorithm 'System.Security.Cryptography.HMACSHA256'.
2024-02-07 13:32:59.459 +01:00 [DBG] Using key {96f35ae7-b2a9-4212-9318-cf5879807393} as the default key.
2024-02-07 13:32:59.459 +01:00 [DBG] Key ring with default key {96f35ae7-b2a9-4212-9318-cf5879807393} was loaded during application startup.
2024-02-07 13:33:06.124 +01:00 [DBG] Using development certificate: CN=localhost (Thumbprint: A5CF4359390C2AFD9683CF7A1B9D9530F62E08B9)
2024-02-07 13:33:06.136 +01:00 [INF] Now listening on: https://localhost:7015
2024-02-07 13:33:06.136 +01:00 [INF] Now listening on: http://localhost:5135
2024-02-07 13:33:06.137 +01:00 [DBG] Loaded hosting startup assembly CityInfo.API
2024-02-07 13:33:06.137 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2024-02-07 13:33:06.137 +01:00 [INF] Hosting environment: Development
2024-02-07 13:33:06.142 +01:00 [INF] Content root path: /Users/iediong/Code/tutorials/csharp-projects/CityInfo/CityInfo.API/
2024-02-07 13:33:06.142 +01:00 [DBG] Hosting started
2024-02-07 13:33:13.079 +01:00 [DBG] Connection id "0HN17R3PNBICJ" accepted.
2024-02-07 13:33:13.080 +01:00 [DBG] Connection id "0HN17R3PNBICK" accepted.
2024-02-07 13:33:13.080 +01:00 [DBG] Connection id "0HN17R3PNBICJ" started.
2024-02-07 13:33:13.080 +01:00 [DBG] Connection id "0HN17R3PNBICK" started.
2024-02-07 13:33:13.162 +01:00 [DBG] Connection 0HN17R3PNBICK established using the following protocol: "Tls12"
2024-02-07 13:33:13.162 +01:00 [DBG] Connection 0HN17R3PNBICJ established using the following protocol: "Tls12"
2024-02-07 13:33:13.192 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7015/ - -
2024-02-07 13:33:13.193 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-02-07 13:33:13.208 +01:00 [DBG] No candidates found for the request path '/'
2024-02-07 13:33:13.208 +01:00 [DBG] Request did not match any endpoints
2024-02-07 13:33:13.238 +01:00 [DBG] The request path  does not match the path filter
2024-02-07 13:33:13.268 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-02-07 13:33:13.270 +01:00 [DBG] Connection id "0HN17R3PNBICJ" completed keep alive response.
2024-02-07 13:33:13.272 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7015/ - - - 404 0 - 82.6256ms
2024-02-07 13:33:19.640 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7015/swagger - -
2024-02-07 13:33:19.640 +01:00 [DBG] No candidates found for the request path '/swagger'
2024-02-07 13:33:19.641 +01:00 [DBG] Request did not match any endpoints
2024-02-07 13:33:19.642 +01:00 [DBG] Connection id "0HN17R3PNBICJ" completed keep alive response.
2024-02-07 13:33:19.642 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7015/swagger - - - 301 0 - 1.9836ms
2024-02-07 13:33:19.644 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7015/swagger/index.html - -
2024-02-07 13:33:19.644 +01:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-02-07 13:33:19.645 +01:00 [DBG] Request did not match any endpoints
2024-02-07 13:33:19.751 +01:00 [DBG] Connection id "0HN17R3PNBICJ" completed keep alive response.
2024-02-07 13:33:19.752 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7015/swagger/index.html - - - 200 - text/html;charset=utf-8 107.4420ms
2024-02-07 13:33:19.761 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7015/swagger/swagger-ui.css - -
2024-02-07 13:33:19.761 +01:00 [DBG] No candidates found for the request path '/swagger/swagger-ui.css'
2024-02-07 13:33:19.762 +01:00 [DBG] Request did not match any endpoints
2024-02-07 13:33:19.764 +01:00 [DBG] Connection id "0HN17R3PNBICL" accepted.
2024-02-07 13:33:19.764 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7015/swagger/swagger-ui-bundle.js - -
2024-02-07 13:33:19.764 +01:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-bundle.js'
2024-02-07 13:33:19.765 +01:00 [DBG] Request did not match any endpoints
2024-02-07 13:33:19.765 +01:00 [DBG] Connection id "0HN17R3PNBICL" started.
2024-02-07 13:33:19.769 +01:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2024-02-07 13:33:19.774 +01:00 [DBG] Connection id "0HN17R3PNBICJ" completed keep alive response.
2024-02-07 13:33:19.774 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7015/swagger/swagger-ui.css - - - 200 143632 text/css 12.8787ms
2024-02-07 13:33:19.774 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7015/swagger/swagger-ui-standalone-preset.js - -
2024-02-07 13:33:19.774 +01:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-standalone-preset.js'
2024-02-07 13:33:19.774 +01:00 [DBG] Request did not match any endpoints
2024-02-07 13:33:19.785 +01:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2024-02-07 13:33:19.787 +01:00 [DBG] Connection id "0HN17R3PNBICJ" completed keep alive response.
2024-02-07 13:33:19.788 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7015/swagger/swagger-ui-standalone-preset.js - - - 200 337162 application/javascript 13.3314ms
2024-02-07 13:33:19.788 +01:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2024-02-07 13:33:19.788 +01:00 [DBG] Connection id "0HN17R3PNBICK" completed keep alive response.
2024-02-07 13:33:19.788 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7015/swagger/swagger-ui-bundle.js - - - 200 1092889 application/javascript 23.8340ms
2024-02-07 13:33:19.799 +01:00 [DBG] Connection 0HN17R3PNBICL established using the following protocol: "Tls12"
2024-02-07 13:33:19.882 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7015/swagger/v1/swagger.json - -
2024-02-07 13:33:19.882 +01:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-02-07 13:33:19.882 +01:00 [DBG] Request did not match any endpoints
2024-02-07 13:33:19.893 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7015/swagger/favicon-32x32.png - -
2024-02-07 13:33:19.893 +01:00 [DBG] No candidates found for the request path '/swagger/favicon-32x32.png'
2024-02-07 13:33:19.893 +01:00 [DBG] Request did not match any endpoints
2024-02-07 13:33:19.893 +01:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2024-02-07 13:33:19.893 +01:00 [DBG] Connection id "0HN17R3PNBICJ" completed keep alive response.
2024-02-07 13:33:19.893 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7015/swagger/favicon-32x32.png - - - 200 628 image/png 0.6989ms
2024-02-07 13:33:19.978 +01:00 [DBG] Connection id "0HN17R3PNBICK" completed keep alive response.
2024-02-07 13:33:19.978 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7015/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 96.0116ms
2024-02-07 13:35:30.646 +01:00 [DBG] Connection id "0HN17R3PNBICK" disconnecting.
2024-02-07 13:35:30.646 +01:00 [DBG] Connection id "0HN17R3PNBICJ" disconnecting.
2024-02-07 13:35:30.646 +01:00 [DBG] Connection id "0HN17R3PNBICL" disconnecting.
2024-02-07 13:35:30.653 +01:00 [DBG] Connection id "0HN17R3PNBICJ" stopped.
2024-02-07 13:35:30.653 +01:00 [DBG] Connection id "0HN17R3PNBICK" stopped.
2024-02-07 13:35:30.653 +01:00 [DBG] Connection id "0HN17R3PNBICL" stopped.
2024-02-07 13:35:30.654 +01:00 [DBG] Connection id "0HN17R3PNBICL" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-02-07 13:35:30.655 +01:00 [DBG] Connection id "0HN17R3PNBICJ" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-02-07 13:35:30.655 +01:00 [DBG] Connection id "0HN17R3PNBICK" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-02-07 13:44:55.486 +01:00 [DBG] Connection id "0HN17R3PNBICM" accepted.
2024-02-07 13:44:55.487 +01:00 [DBG] Connection id "0HN17R3PNBICM" started.
2024-02-07 13:44:55.515 +01:00 [DBG] Connection 0HN17R3PNBICM established using the following protocol: "Tls12"
2024-02-07 13:44:55.518 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7015/api/v1/Cities?pageNumber=1&pageSize=10 - -
2024-02-07 13:44:55.532 +01:00 [DBG] 1 candidate(s) found for the request path '/api/v1/Cities'
2024-02-07 13:44:55.545 +01:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/v{version:apiVersion}/Cities' is valid for the request path '/api/v1/Cities'
2024-02-07 13:44:55.552 +01:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-02-07 13:44:55.552 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-02-07 13:44:55.553 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-02-07 13:44:55.558 +01:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-02-07 13:44:55.587 +01:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-02-07 13:44:55.588 +01:00 [DBG] Connection id "0HN17R3PNBICM" completed keep alive response.
2024-02-07 13:44:55.588 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7015/api/v1/Cities?pageNumber=1&pageSize=10 - - - 401 0 - 70.4650ms
2024-02-07 13:45:12.187 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:7015/api/Authentication/authenticate application/json-patch+json 50
2024-02-07 13:45:12.190 +01:00 [DBG] 1 candidate(s) found for the request path '/api/Authentication/authenticate'
2024-02-07 13:45:12.190 +01:00 [DBG] Endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)' with route pattern 'api/Authentication/authenticate' is valid for the request path '/api/Authentication/authenticate'
2024-02-07 13:45:12.199 +01:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2024-02-07 13:45:12.200 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-02-07 13:45:12.201 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-02-07 13:45:12.202 +01:00 [INF] Executing endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2024-02-07 13:45:12.234 +01:00 [INF] Route matched with {action = "Authenticate", controller = "Authentication"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.String] Authenticate(AuthenticationRequestBody) on controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API).
2024-02-07 13:45:12.234 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-02-07 13:45:12.234 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-02-07 13:45:12.235 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-02-07 13:45:12.235 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-02-07 13:45:12.236 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-02-07 13:45:12.236 +01:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API)
2024-02-07 13:45:12.237 +01:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API)
2024-02-07 13:45:12.238 +01:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' ...
2024-02-07 13:45:12.239 +01:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' using the name '' in request data ...
2024-02-07 13:45:12.241 +01:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2024-02-07 13:45:12.241 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2024-02-07 13:45:12.245 +01:00 [DBG] Connection id "0HN17R3PNBICM", Request id "0HN17R3PNBICM:00000003": started reading request body.
2024-02-07 13:45:12.245 +01:00 [DBG] Connection id "0HN17R3PNBICM", Request id "0HN17R3PNBICM:00000003": done reading request body.
2024-02-07 13:45:12.320 +01:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2024-02-07 13:45:12.320 +01:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2024-02-07 13:45:12.320 +01:00 [DBG] Attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' ...
2024-02-07 13:45:12.325 +01:00 [DBG] Done attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2024-02-07 13:45:12.389 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-02-07 13:45:12.390 +01:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2024-02-07 13:45:12.390 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-02-07 13:45:12.390 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-02-07 13:45:12.395 +01:00 [INF] Executed action CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API) in 156.1618ms
2024-02-07 13:45:12.395 +01:00 [INF] Executed endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2024-02-07 13:45:12.395 +01:00 [DBG] Connection id "0HN17R3PNBICM" completed keep alive response.
2024-02-07 13:45:12.395 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:7015/api/Authentication/authenticate application/json-patch+json 50 - 200 - text/plain;+charset=utf-8 208.5052ms
2024-02-07 13:45:48.719 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7015/api/v1/Cities?pageNumber=1&pageSize=10 - -
2024-02-07 13:45:48.719 +01:00 [DBG] 1 candidate(s) found for the request path '/api/v1/Cities'
2024-02-07 13:45:48.719 +01:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/v{version:apiVersion}/Cities' is valid for the request path '/api/v1/Cities'
2024-02-07 13:45:48.719 +01:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-02-07 13:45:48.720 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-02-07 13:45:48.732 +01:00 [INF] Bearer was not authenticated. Failure message: No SecurityTokenValidator available for token.
2024-02-07 13:45:48.733 +01:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-02-07 13:45:48.737 +01:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-02-07 13:45:48.737 +01:00 [DBG] Connection id "0HN17R3PNBICM" completed keep alive response.
2024-02-07 13:45:48.737 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7015/api/v1/Cities?pageNumber=1&pageSize=10 - - - 401 0 - 18.1209ms
2024-02-07 13:46:06.521 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7015/api/v1/Cities?pageNumber=1&pageSize=10 - -
2024-02-07 13:46:06.521 +01:00 [DBG] 1 candidate(s) found for the request path '/api/v1/Cities'
2024-02-07 13:46:06.521 +01:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/v{version:apiVersion}/Cities' is valid for the request path '/api/v1/Cities'
2024-02-07 13:46:06.522 +01:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-02-07 13:46:06.522 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-02-07 13:46:06.589 +01:00 [DBG] Successfully validated the token.
2024-02-07 13:46:06.590 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-02-07 13:46:06.590 +01:00 [DBG] Authorization was successful.
2024-02-07 13:46:06.590 +01:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-02-07 13:46:06.598 +01:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointsOfInterestDto]]] GetCities(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-02-07 13:46:06.598 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-02-07 13:46:06.632 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-02-07 13:46:06.632 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-02-07 13:46:06.632 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-02-07 13:46:06.632 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-02-07 13:46:06.633 +01:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-02-07 13:46:06.706 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-02-07 13:46:06.807 +01:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-02-07 13:46:06.810 +01:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2024-02-07 13:46:06.810 +01:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2024-02-07 13:46:06.811 +01:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2024-02-07 13:46:06.811 +01:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2024-02-07 13:46:06.811 +01:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2024-02-07 13:46:06.811 +01:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2024-02-07 13:46:06.811 +01:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2024-02-07 13:46:06.811 +01:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2024-02-07 13:46:06.811 +01:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name '' in request data ...
2024-02-07 13:46:06.811 +01:00 [DBG] Could not find a value in the request with name '' for binding parameter 'searchQuery' of type 'System.String'.
2024-02-07 13:46:06.811 +01:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2024-02-07 13:46:06.811 +01:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2024-02-07 13:46:06.811 +01:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2024-02-07 13:46:06.811 +01:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2024-02-07 13:46:06.811 +01:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2024-02-07 13:46:06.811 +01:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name 'pageNumber' in request data ...
2024-02-07 13:46:06.812 +01:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2024-02-07 13:46:06.812 +01:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2024-02-07 13:46:06.812 +01:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2024-02-07 13:46:06.812 +01:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2024-02-07 13:46:06.812 +01:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2024-02-07 13:46:06.812 +01:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2024-02-07 13:46:06.812 +01:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2024-02-07 13:46:06.812 +01:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2024-02-07 13:46:06.812 +01:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2024-02-07 13:46:06.812 +01:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2024-02-07 13:46:07.297 +01:00 [INF] Entity Framework Core 6.0.19 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.19' with options: None
2024-02-07 13:46:07.318 +01:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Count()'
2024-02-07 13:46:07.414 +01:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<int>(
    asyncEnumerable: new SingleQueryingEnumerable<int>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT COUNT(*)
            FROM Cities AS c), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, int>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-02-07 13:46:07.437 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-02-07 13:46:07.543 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (104ms).
2024-02-07 13:46:07.546 +01:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-02-07 13:46:07.555 +01:00 [DBG] Opened connection to database 'main' on server '/Users/iediong/Code/tutorials/csharp-projects/CityInfo/CityInfo.API/CityInfo.db'.
2024-02-07 13:46:07.560 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2024-02-07 13:46:07.572 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2024-02-07 13:46:07.576 +01:00 [DBG] A data reader was disposed.
2024-02-07 13:46:07.578 +01:00 [DBG] Closing connection to database 'main' on server '/Users/iediong/Code/tutorials/csharp-projects/CityInfo/CityInfo.API/CityInfo.db'.
2024-02-07 13:46:07.580 +01:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-02-07 13:46:07.585 +01:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .OrderBy(c => c.Name)
    .Skip(__p_0)
    .Take(__p_1)'
2024-02-07 13:46:07.614 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<City>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
        SELECT c.Id, c.Description, c.Name
        FROM Cities AS c
        ORDER BY c.Name ASC
        OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
    CityInfo.API.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2024-02-07 13:46:07.619 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-02-07 13:46:07.619 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-02-07 13:46:07.620 +01:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-02-07 13:46:07.620 +01:00 [DBG] Opened connection to database 'main' on server '/Users/iediong/Code/tutorials/csharp-projects/CityInfo/CityInfo.API/CityInfo.db'.
2024-02-07 13:46:07.622 +01:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
LIMIT @__p_1 OFFSET @__p_0
2024-02-07 13:46:07.624 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
LIMIT @__p_1 OFFSET @__p_0
2024-02-07 13:46:07.632 +01:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-07 13:46:07.645 +01:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-07 13:46:07.645 +01:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-07 13:46:07.646 +01:00 [DBG] A data reader was disposed.
2024-02-07 13:46:07.646 +01:00 [DBG] Closing connection to database 'main' on server '/Users/iediong/Code/tutorials/csharp-projects/CityInfo/CityInfo.API/CityInfo.db'.
2024-02-07 13:46:07.646 +01:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-02-07 13:46:07.661 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-02-07 13:46:07.661 +01:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2024-02-07 13:46:07.662 +01:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-02-07 13:46:07.663 +01:00 [WRN] No output formatter was found for content types '["text/plain"]' to write the response.
2024-02-07 13:46:07.663 +01:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 1029.8062ms
2024-02-07 13:46:07.663 +01:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-02-07 13:46:07.663 +01:00 [DBG] Connection id "0HN17R3PNBICM" completed keep alive response.
2024-02-07 13:46:07.664 +01:00 [DBG] 'CityInfoContext' disposed.
2024-02-07 13:46:07.665 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7015/api/v1/Cities?pageNumber=1&pageSize=10 - - - 406 0 - 1143.8246ms
2024-02-07 13:48:16.576 +01:00 [DBG] Connection id "0HN17R3PNBICN" received FIN.
2024-02-07 13:48:16.577 +01:00 [DBG] Connection id "0HN17R3PNBICN" accepted.
2024-02-07 13:48:16.577 +01:00 [DBG] Connection id "0HN17R3PNBICO" accepted.
2024-02-07 13:48:16.578 +01:00 [DBG] Connection id "0HN17R3PNBICN" started.
2024-02-07 13:48:16.578 +01:00 [DBG] Connection id "0HN17R3PNBICO" started.
2024-02-07 13:48:16.579 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-02-07 13:48:16.596 +01:00 [DBG] Connection id "0HN17R3PNBICN" stopped.
2024-02-07 13:48:16.597 +01:00 [DBG] Connection id "0HN17R3PNBICN" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-02-07 13:48:16.606 +01:00 [DBG] Connection 0HN17R3PNBICO established using the following protocol: "Tls12"
2024-02-07 13:48:16.606 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:7015/api/authentication/authenticate application/json 114
2024-02-07 13:48:16.606 +01:00 [DBG] 1 candidate(s) found for the request path '/api/authentication/authenticate'
2024-02-07 13:48:16.627 +01:00 [DBG] Endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)' with route pattern 'api/Authentication/authenticate' is valid for the request path '/api/authentication/authenticate'
2024-02-07 13:48:16.628 +01:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2024-02-07 13:48:16.628 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-02-07 13:48:16.628 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-02-07 13:48:16.628 +01:00 [INF] Executing endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2024-02-07 13:48:16.629 +01:00 [INF] Route matched with {action = "Authenticate", controller = "Authentication"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.String] Authenticate(AuthenticationRequestBody) on controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API).
2024-02-07 13:48:16.629 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-02-07 13:48:16.629 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-02-07 13:48:16.629 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-02-07 13:48:16.629 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-02-07 13:48:16.629 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-02-07 13:48:16.629 +01:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API)
2024-02-07 13:48:16.630 +01:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API)
2024-02-07 13:48:16.630 +01:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' ...
2024-02-07 13:48:16.630 +01:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' using the name '' in request data ...
2024-02-07 13:48:16.631 +01:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-02-07 13:48:16.631 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-02-07 13:48:16.631 +01:00 [DBG] Connection id "0HN17R3PNBICO", Request id "0HN17R3PNBICO:00000002": started reading request body.
2024-02-07 13:48:16.631 +01:00 [DBG] Connection id "0HN17R3PNBICO", Request id "0HN17R3PNBICO:00000002": done reading request body.
2024-02-07 13:48:16.632 +01:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2024-02-07 13:48:16.632 +01:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2024-02-07 13:48:16.632 +01:00 [DBG] Attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' ...
2024-02-07 13:48:16.633 +01:00 [DBG] Done attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2024-02-07 13:48:16.634 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-02-07 13:48:16.634 +01:00 [DBG] No information found on request to perform content negotiation.
2024-02-07 13:48:16.634 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-02-07 13:48:16.634 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-02-07 13:48:16.634 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-02-07 13:48:16.635 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-02-07 13:48:16.635 +01:00 [INF] Executed action CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API) in 5.6807ms
2024-02-07 13:48:16.635 +01:00 [INF] Executed endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2024-02-07 13:48:16.635 +01:00 [DBG] Connection id "0HN17R3PNBICO" completed keep alive response.
2024-02-07 13:48:16.635 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:7015/api/authentication/authenticate application/json 114 - 200 - text/plain;+charset=utf-8 29.2632ms
2024-02-07 13:48:18.505 +01:00 [DBG] Connection id "0HN17R3PNBICM" disconnecting.
2024-02-07 13:48:18.506 +01:00 [DBG] Connection id "0HN17R3PNBICM" stopped.
2024-02-07 13:48:18.506 +01:00 [DBG] Connection id "0HN17R3PNBICM" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-02-07 13:49:45.547 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7015/api/cities - -
2024-02-07 13:49:45.547 +01:00 [DBG] No candidates found for the request path '/api/cities'
2024-02-07 13:49:45.547 +01:00 [DBG] Request did not match any endpoints
2024-02-07 13:49:45.548 +01:00 [DBG] The request path  does not match the path filter
2024-02-07 13:49:45.548 +01:00 [DBG] Successfully validated the token.
2024-02-07 13:49:45.548 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-02-07 13:49:45.548 +01:00 [DBG] Connection id "0HN17R3PNBICO" completed keep alive response.
2024-02-07 13:49:45.549 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7015/api/cities - - - 404 0 - 1.5413ms
2024-02-07 13:51:00.986 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7015/api/cities - -
2024-02-07 13:51:00.987 +01:00 [DBG] No candidates found for the request path '/api/cities'
2024-02-07 13:51:00.987 +01:00 [DBG] Request did not match any endpoints
2024-02-07 13:51:00.987 +01:00 [DBG] The request path  does not match the path filter
2024-02-07 13:51:00.988 +01:00 [DBG] Successfully validated the token.
2024-02-07 13:51:00.988 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-02-07 13:51:00.988 +01:00 [DBG] Connection id "0HN17R3PNBICO" completed keep alive response.
2024-02-07 13:51:00.988 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7015/api/cities - - - 404 0 - 2.8021ms
2024-02-07 13:51:57.911 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7015/api/v1/cities - -
2024-02-07 13:51:57.912 +01:00 [DBG] 1 candidate(s) found for the request path '/api/v1/cities'
2024-02-07 13:51:57.912 +01:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/v{version:apiVersion}/Cities' is valid for the request path '/api/v1/cities'
2024-02-07 13:51:57.912 +01:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-02-07 13:51:57.912 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-02-07 13:51:57.913 +01:00 [DBG] Successfully validated the token.
2024-02-07 13:51:57.913 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-02-07 13:51:57.913 +01:00 [DBG] Authorization was successful.
2024-02-07 13:51:57.913 +01:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-02-07 13:51:57.913 +01:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointsOfInterestDto]]] GetCities(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-02-07 13:51:57.913 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-02-07 13:51:57.913 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-02-07 13:51:57.914 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-02-07 13:51:57.914 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-02-07 13:51:57.914 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-02-07 13:51:57.915 +01:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-02-07 13:51:57.916 +01:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-02-07 13:51:57.916 +01:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2024-02-07 13:51:57.916 +01:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2024-02-07 13:51:57.917 +01:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2024-02-07 13:51:57.917 +01:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2024-02-07 13:51:57.917 +01:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2024-02-07 13:51:57.917 +01:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2024-02-07 13:51:57.917 +01:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2024-02-07 13:51:57.917 +01:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2024-02-07 13:51:57.918 +01:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name '' in request data ...
2024-02-07 13:51:57.918 +01:00 [DBG] Could not find a value in the request with name '' for binding parameter 'searchQuery' of type 'System.String'.
2024-02-07 13:51:57.918 +01:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2024-02-07 13:51:57.918 +01:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2024-02-07 13:51:57.918 +01:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2024-02-07 13:51:57.918 +01:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2024-02-07 13:51:57.918 +01:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2024-02-07 13:51:57.919 +01:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name '' in request data ...
2024-02-07 13:51:57.919 +01:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageNumber' of type 'System.Int32'.
2024-02-07 13:51:57.919 +01:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2024-02-07 13:51:57.920 +01:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2024-02-07 13:51:57.920 +01:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2024-02-07 13:51:57.920 +01:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2024-02-07 13:51:57.921 +01:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2024-02-07 13:51:57.921 +01:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name '' in request data ...
2024-02-07 13:51:57.922 +01:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageSize' of type 'System.Int32'.
2024-02-07 13:51:57.922 +01:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2024-02-07 13:51:57.922 +01:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2024-02-07 13:51:57.922 +01:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2024-02-07 13:51:57.922 +01:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2024-02-07 13:51:57.924 +01:00 [INF] Entity Framework Core 6.0.19 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.19' with options: None
2024-02-07 13:51:57.925 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-02-07 13:51:57.926 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-02-07 13:51:57.926 +01:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-02-07 13:51:57.927 +01:00 [DBG] Opened connection to database 'main' on server '/Users/iediong/Code/tutorials/csharp-projects/CityInfo/CityInfo.API/CityInfo.db'.
2024-02-07 13:51:57.927 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2024-02-07 13:51:57.929 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2024-02-07 13:51:57.930 +01:00 [DBG] A data reader was disposed.
2024-02-07 13:51:57.930 +01:00 [DBG] Closing connection to database 'main' on server '/Users/iediong/Code/tutorials/csharp-projects/CityInfo/CityInfo.API/CityInfo.db'.
2024-02-07 13:51:57.930 +01:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-02-07 13:51:57.933 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-02-07 13:51:57.934 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-02-07 13:51:57.934 +01:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-02-07 13:51:57.934 +01:00 [DBG] Opened connection to database 'main' on server '/Users/iediong/Code/tutorials/csharp-projects/CityInfo/CityInfo.API/CityInfo.db'.
2024-02-07 13:51:57.934 +01:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
LIMIT @__p_1 OFFSET @__p_0
2024-02-07 13:51:57.974 +01:00 [INF] Executed DbCommand (40ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
LIMIT @__p_1 OFFSET @__p_0
2024-02-07 13:51:57.975 +01:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-07 13:51:57.975 +01:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-07 13:51:57.976 +01:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-07 13:51:57.976 +01:00 [DBG] A data reader was disposed.
2024-02-07 13:51:57.976 +01:00 [DBG] Closing connection to database 'main' on server '/Users/iediong/Code/tutorials/csharp-projects/CityInfo/CityInfo.API/CityInfo.db'.
2024-02-07 13:51:57.976 +01:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-02-07 13:51:57.977 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-02-07 13:51:57.977 +01:00 [DBG] No information found on request to perform content negotiation.
2024-02-07 13:51:57.977 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-02-07 13:51:57.977 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-02-07 13:51:57.978 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-02-07 13:51:57.978 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointsOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-02-07 13:51:58.027 +01:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 112.2484ms
2024-02-07 13:51:58.027 +01:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-02-07 13:51:58.027 +01:00 [DBG] Connection id "0HN17R3PNBICO" completed keep alive response.
2024-02-07 13:51:58.027 +01:00 [DBG] 'CityInfoContext' disposed.
2024-02-07 13:51:58.028 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7015/api/v1/cities - - - 200 247 application/json;+charset=utf-8 116.2322ms
2024-02-07 13:52:04.176 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7015/api/v1/cities - -
2024-02-07 13:52:04.177 +01:00 [DBG] 1 candidate(s) found for the request path '/api/v1/cities'
2024-02-07 13:52:04.178 +01:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/v{version:apiVersion}/Cities' is valid for the request path '/api/v1/cities'
2024-02-07 13:52:04.178 +01:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-02-07 13:52:04.178 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-02-07 13:52:04.179 +01:00 [DBG] Successfully validated the token.
2024-02-07 13:52:04.179 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-02-07 13:52:04.179 +01:00 [DBG] Authorization was successful.
2024-02-07 13:52:04.180 +01:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-02-07 13:52:04.180 +01:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointsOfInterestDto]]] GetCities(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-02-07 13:52:04.181 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-02-07 13:52:04.181 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-02-07 13:52:04.182 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-02-07 13:52:04.182 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-02-07 13:52:04.182 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-02-07 13:52:04.182 +01:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-02-07 13:52:04.186 +01:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-02-07 13:52:04.187 +01:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2024-02-07 13:52:04.187 +01:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2024-02-07 13:52:04.187 +01:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2024-02-07 13:52:04.187 +01:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2024-02-07 13:52:04.187 +01:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2024-02-07 13:52:04.187 +01:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2024-02-07 13:52:04.187 +01:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2024-02-07 13:52:04.188 +01:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2024-02-07 13:52:04.188 +01:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name '' in request data ...
2024-02-07 13:52:04.188 +01:00 [DBG] Could not find a value in the request with name '' for binding parameter 'searchQuery' of type 'System.String'.
2024-02-07 13:52:04.188 +01:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2024-02-07 13:52:04.188 +01:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2024-02-07 13:52:04.188 +01:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2024-02-07 13:52:04.188 +01:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2024-02-07 13:52:04.188 +01:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2024-02-07 13:52:04.189 +01:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name '' in request data ...
2024-02-07 13:52:04.189 +01:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageNumber' of type 'System.Int32'.
2024-02-07 13:52:04.189 +01:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2024-02-07 13:52:04.189 +01:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2024-02-07 13:52:04.189 +01:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2024-02-07 13:52:04.189 +01:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2024-02-07 13:52:04.189 +01:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2024-02-07 13:52:04.190 +01:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name '' in request data ...
2024-02-07 13:52:04.190 +01:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageSize' of type 'System.Int32'.
2024-02-07 13:52:04.190 +01:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2024-02-07 13:52:04.190 +01:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2024-02-07 13:52:04.190 +01:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2024-02-07 13:52:04.190 +01:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2024-02-07 13:52:04.228 +01:00 [INF] Entity Framework Core 6.0.19 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.19' with options: None
2024-02-07 13:52:04.228 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-02-07 13:52:04.229 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-02-07 13:52:04.229 +01:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-02-07 13:52:04.229 +01:00 [DBG] Opened connection to database 'main' on server '/Users/iediong/Code/tutorials/csharp-projects/CityInfo/CityInfo.API/CityInfo.db'.
2024-02-07 13:52:04.229 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2024-02-07 13:52:04.229 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2024-02-07 13:52:04.229 +01:00 [DBG] A data reader was disposed.
2024-02-07 13:52:04.229 +01:00 [DBG] Closing connection to database 'main' on server '/Users/iediong/Code/tutorials/csharp-projects/CityInfo/CityInfo.API/CityInfo.db'.
2024-02-07 13:52:04.229 +01:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-02-07 13:52:04.230 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-02-07 13:52:04.230 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-02-07 13:52:04.230 +01:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-02-07 13:52:04.230 +01:00 [DBG] Opened connection to database 'main' on server '/Users/iediong/Code/tutorials/csharp-projects/CityInfo/CityInfo.API/CityInfo.db'.
2024-02-07 13:52:04.230 +01:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
LIMIT @__p_1 OFFSET @__p_0
2024-02-07 13:52:04.230 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
LIMIT @__p_1 OFFSET @__p_0
2024-02-07 13:52:04.230 +01:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-07 13:52:04.230 +01:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-07 13:52:04.230 +01:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-07 13:52:04.230 +01:00 [DBG] A data reader was disposed.
2024-02-07 13:52:04.230 +01:00 [DBG] Closing connection to database 'main' on server '/Users/iediong/Code/tutorials/csharp-projects/CityInfo/CityInfo.API/CityInfo.db'.
2024-02-07 13:52:04.230 +01:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-02-07 13:52:04.231 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-02-07 13:52:04.231 +01:00 [DBG] No information found on request to perform content negotiation.
2024-02-07 13:52:04.231 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-02-07 13:52:04.231 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-02-07 13:52:04.231 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-02-07 13:52:04.231 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointsOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-02-07 13:52:04.231 +01:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 48.8597ms
2024-02-07 13:52:04.231 +01:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-02-07 13:52:04.231 +01:00 [DBG] Connection id "0HN17R3PNBICO" completed keep alive response.
2024-02-07 13:52:04.231 +01:00 [DBG] 'CityInfoContext' disposed.
2024-02-07 13:52:04.231 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7015/api/v1/cities - - - 200 247 application/json;+charset=utf-8 55.7569ms
2024-02-07 13:52:19.972 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7015/api/v2/cities - -
2024-02-07 13:52:19.972 +01:00 [DBG] 1 candidate(s) found for the request path '/api/v2/cities'
2024-02-07 13:52:19.973 +01:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/v{version:apiVersion}/Cities' is valid for the request path '/api/v2/cities'
2024-02-07 13:52:19.973 +01:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-02-07 13:52:19.973 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-02-07 13:52:19.973 +01:00 [DBG] Successfully validated the token.
2024-02-07 13:52:19.973 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-02-07 13:52:19.973 +01:00 [DBG] Authorization was successful.
2024-02-07 13:52:19.973 +01:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-02-07 13:52:19.974 +01:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointsOfInterestDto]]] GetCities(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-02-07 13:52:19.974 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-02-07 13:52:19.974 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-02-07 13:52:19.974 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-02-07 13:52:19.974 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-02-07 13:52:19.975 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-02-07 13:52:19.975 +01:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-02-07 13:52:19.975 +01:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-02-07 13:52:19.975 +01:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2024-02-07 13:52:19.975 +01:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2024-02-07 13:52:19.976 +01:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2024-02-07 13:52:19.976 +01:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2024-02-07 13:52:19.976 +01:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2024-02-07 13:52:19.976 +01:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2024-02-07 13:52:19.976 +01:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2024-02-07 13:52:19.976 +01:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2024-02-07 13:52:19.976 +01:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name '' in request data ...
2024-02-07 13:52:19.978 +01:00 [DBG] Could not find a value in the request with name '' for binding parameter 'searchQuery' of type 'System.String'.
2024-02-07 13:52:19.978 +01:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2024-02-07 13:52:19.978 +01:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2024-02-07 13:52:19.978 +01:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2024-02-07 13:52:19.979 +01:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2024-02-07 13:52:19.979 +01:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2024-02-07 13:52:19.979 +01:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name '' in request data ...
2024-02-07 13:52:19.979 +01:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageNumber' of type 'System.Int32'.
2024-02-07 13:52:19.980 +01:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2024-02-07 13:52:19.980 +01:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2024-02-07 13:52:19.980 +01:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2024-02-07 13:52:19.980 +01:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2024-02-07 13:52:19.980 +01:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2024-02-07 13:52:19.981 +01:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name '' in request data ...
2024-02-07 13:52:19.981 +01:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageSize' of type 'System.Int32'.
2024-02-07 13:52:19.981 +01:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2024-02-07 13:52:19.981 +01:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2024-02-07 13:52:19.981 +01:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2024-02-07 13:52:19.982 +01:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2024-02-07 13:52:19.982 +01:00 [INF] Entity Framework Core 6.0.19 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.19' with options: None
2024-02-07 13:52:19.983 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-02-07 13:52:19.983 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-02-07 13:52:19.983 +01:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-02-07 13:52:19.983 +01:00 [DBG] Opened connection to database 'main' on server '/Users/iediong/Code/tutorials/csharp-projects/CityInfo/CityInfo.API/CityInfo.db'.
2024-02-07 13:52:19.984 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2024-02-07 13:52:19.984 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2024-02-07 13:52:19.984 +01:00 [DBG] A data reader was disposed.
2024-02-07 13:52:19.984 +01:00 [DBG] Closing connection to database 'main' on server '/Users/iediong/Code/tutorials/csharp-projects/CityInfo/CityInfo.API/CityInfo.db'.
2024-02-07 13:52:19.984 +01:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-02-07 13:52:19.984 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-02-07 13:52:19.985 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-02-07 13:52:19.985 +01:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-02-07 13:52:19.985 +01:00 [DBG] Opened connection to database 'main' on server '/Users/iediong/Code/tutorials/csharp-projects/CityInfo/CityInfo.API/CityInfo.db'.
2024-02-07 13:52:19.985 +01:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
LIMIT @__p_1 OFFSET @__p_0
2024-02-07 13:52:19.985 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
LIMIT @__p_1 OFFSET @__p_0
2024-02-07 13:52:19.985 +01:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-07 13:52:19.986 +01:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-07 13:52:19.986 +01:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-07 13:52:19.986 +01:00 [DBG] A data reader was disposed.
2024-02-07 13:52:19.986 +01:00 [DBG] Closing connection to database 'main' on server '/Users/iediong/Code/tutorials/csharp-projects/CityInfo/CityInfo.API/CityInfo.db'.
2024-02-07 13:52:19.986 +01:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-02-07 13:52:19.987 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-02-07 13:52:19.987 +01:00 [DBG] No information found on request to perform content negotiation.
2024-02-07 13:52:19.987 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-02-07 13:52:19.987 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-02-07 13:52:19.987 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-02-07 13:52:19.987 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointsOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-02-07 13:52:19.988 +01:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 12.9988ms
2024-02-07 13:52:19.988 +01:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-02-07 13:52:19.988 +01:00 [DBG] Connection id "0HN17R3PNBICO" completed keep alive response.
2024-02-07 13:52:19.988 +01:00 [DBG] 'CityInfoContext' disposed.
2024-02-07 13:52:19.988 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7015/api/v2/cities - - - 200 247 application/json;+charset=utf-8 16.0616ms
2024-02-07 13:52:32.930 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7015/api/v1/cities - -
2024-02-07 13:52:32.930 +01:00 [DBG] 1 candidate(s) found for the request path '/api/v1/cities'
2024-02-07 13:52:32.930 +01:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/v{version:apiVersion}/Cities' is valid for the request path '/api/v1/cities'
2024-02-07 13:52:32.930 +01:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-02-07 13:52:32.930 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-02-07 13:52:32.931 +01:00 [DBG] Successfully validated the token.
2024-02-07 13:52:32.931 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-02-07 13:52:32.931 +01:00 [DBG] Authorization was successful.
2024-02-07 13:52:32.931 +01:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-02-07 13:52:32.931 +01:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointsOfInterestDto]]] GetCities(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-02-07 13:52:32.931 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-02-07 13:52:32.931 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-02-07 13:52:32.932 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-02-07 13:52:32.932 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-02-07 13:52:32.932 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-02-07 13:52:32.932 +01:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-02-07 13:52:32.932 +01:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-02-07 13:52:32.933 +01:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2024-02-07 13:52:32.933 +01:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2024-02-07 13:52:32.933 +01:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2024-02-07 13:52:32.934 +01:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2024-02-07 13:52:32.934 +01:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2024-02-07 13:52:32.934 +01:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2024-02-07 13:52:32.934 +01:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2024-02-07 13:52:32.935 +01:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2024-02-07 13:52:32.935 +01:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name '' in request data ...
2024-02-07 13:52:32.935 +01:00 [DBG] Could not find a value in the request with name '' for binding parameter 'searchQuery' of type 'System.String'.
2024-02-07 13:52:32.935 +01:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2024-02-07 13:52:32.935 +01:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2024-02-07 13:52:32.935 +01:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2024-02-07 13:52:32.935 +01:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2024-02-07 13:52:32.935 +01:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2024-02-07 13:52:32.935 +01:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name '' in request data ...
2024-02-07 13:52:32.935 +01:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageNumber' of type 'System.Int32'.
2024-02-07 13:52:32.935 +01:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2024-02-07 13:52:32.936 +01:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2024-02-07 13:52:32.936 +01:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2024-02-07 13:52:32.936 +01:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2024-02-07 13:52:32.936 +01:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2024-02-07 13:52:32.936 +01:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name '' in request data ...
2024-02-07 13:52:32.936 +01:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageSize' of type 'System.Int32'.
2024-02-07 13:52:32.936 +01:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2024-02-07 13:52:32.936 +01:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2024-02-07 13:52:32.936 +01:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2024-02-07 13:52:32.936 +01:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2024-02-07 13:52:32.937 +01:00 [INF] Entity Framework Core 6.0.19 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.19' with options: None
2024-02-07 13:52:32.937 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-02-07 13:52:32.937 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-02-07 13:52:32.937 +01:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-02-07 13:52:32.938 +01:00 [DBG] Opened connection to database 'main' on server '/Users/iediong/Code/tutorials/csharp-projects/CityInfo/CityInfo.API/CityInfo.db'.
2024-02-07 13:52:32.938 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2024-02-07 13:52:32.938 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2024-02-07 13:52:32.938 +01:00 [DBG] A data reader was disposed.
2024-02-07 13:52:32.938 +01:00 [DBG] Closing connection to database 'main' on server '/Users/iediong/Code/tutorials/csharp-projects/CityInfo/CityInfo.API/CityInfo.db'.
2024-02-07 13:52:32.938 +01:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-02-07 13:52:32.939 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-02-07 13:52:32.939 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-02-07 13:52:32.939 +01:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-02-07 13:52:32.939 +01:00 [DBG] Opened connection to database 'main' on server '/Users/iediong/Code/tutorials/csharp-projects/CityInfo/CityInfo.API/CityInfo.db'.
2024-02-07 13:52:32.939 +01:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
LIMIT @__p_1 OFFSET @__p_0
2024-02-07 13:52:32.939 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
LIMIT @__p_1 OFFSET @__p_0
2024-02-07 13:52:32.939 +01:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-07 13:52:32.940 +01:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-07 13:52:32.940 +01:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-07 13:52:32.940 +01:00 [DBG] A data reader was disposed.
2024-02-07 13:52:32.940 +01:00 [DBG] Closing connection to database 'main' on server '/Users/iediong/Code/tutorials/csharp-projects/CityInfo/CityInfo.API/CityInfo.db'.
2024-02-07 13:52:32.940 +01:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-02-07 13:52:32.940 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-02-07 13:52:32.940 +01:00 [DBG] No information found on request to perform content negotiation.
2024-02-07 13:52:32.940 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-02-07 13:52:32.940 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-02-07 13:52:32.940 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-02-07 13:52:32.941 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointsOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-02-07 13:52:32.941 +01:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 8.9442ms
2024-02-07 13:52:32.941 +01:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-02-07 13:52:32.941 +01:00 [DBG] Connection id "0HN17R3PNBICO" completed keep alive response.
2024-02-07 13:52:32.941 +01:00 [DBG] 'CityInfoContext' disposed.
2024-02-07 13:52:32.941 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7015/api/v1/cities - - - 200 247 application/json;+charset=utf-8 11.3250ms
2024-02-07 13:53:08.231 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7015/api/v1/cities/1 - -
2024-02-07 13:53:08.231 +01:00 [DBG] 1 candidate(s) found for the request path '/api/v1/cities/1'
2024-02-07 13:53:08.232 +01:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/v{version:apiVersion}/Cities/{id}' is valid for the request path '/api/v1/cities/1'
2024-02-07 13:53:08.232 +01:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2024-02-07 13:53:08.232 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-02-07 13:53:08.232 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-02-07 13:53:08.232 +01:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-02-07 13:53:08.232 +01:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-02-07 13:53:08.232 +01:00 [DBG] Connection id "0HN17R3PNBICO" completed keep alive response.
2024-02-07 13:53:08.232 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7015/api/v1/cities/1 - - - 401 0 - 1.3240ms
2024-02-07 13:53:39.246 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7015/api/v1/cities/1 - -
2024-02-07 13:53:39.246 +01:00 [DBG] 1 candidate(s) found for the request path '/api/v1/cities/1'
2024-02-07 13:53:39.246 +01:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/v{version:apiVersion}/Cities/{id}' is valid for the request path '/api/v1/cities/1'
2024-02-07 13:53:39.246 +01:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2024-02-07 13:53:39.247 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-02-07 13:53:39.247 +01:00 [DBG] Successfully validated the token.
2024-02-07 13:53:39.247 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-02-07 13:53:39.248 +01:00 [DBG] Authorization was successful.
2024-02-07 13:53:39.248 +01:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2024-02-07 13:53:39.254 +01:00 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetCity(Int32, Boolean) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-02-07 13:53:39.254 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-02-07 13:53:39.254 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-02-07 13:53:39.255 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-02-07 13:53:39.255 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-02-07 13:53:39.255 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-02-07 13:53:39.255 +01:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-02-07 13:53:39.255 +01:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-02-07 13:53:39.256 +01:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2024-02-07 13:53:39.256 +01:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2024-02-07 13:53:39.256 +01:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-02-07 13:53:39.257 +01:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-02-07 13:53:39.257 +01:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2024-02-07 13:53:39.257 +01:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2024-02-07 13:53:39.257 +01:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2024-02-07 13:53:39.257 +01:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' using the name '' in request data ...
2024-02-07 13:53:39.257 +01:00 [DBG] Could not find a value in the request with name '' for binding parameter 'includePointsOfInterest' of type 'System.Boolean'.
2024-02-07 13:53:39.257 +01:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2024-02-07 13:53:39.257 +01:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2024-02-07 13:53:39.258 +01:00 [DBG] Attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2024-02-07 13:53:39.258 +01:00 [DBG] Done attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean'.
2024-02-07 13:53:39.263 +01:00 [INF] Entity Framework Core 6.0.19 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.19' with options: None
2024-02-07 13:53:39.267 +01:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Where(c => c.Id == __cityId_0)
    .FirstOrDefault()'
2024-02-07 13:53:39.282 +01:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
            SELECT TOP(1) c.Id, c.Description, c.Name
            FROM Cities AS c
            WHERE c.Id == @__cityId_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-02-07 13:53:39.286 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-02-07 13:53:39.287 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-02-07 13:53:39.287 +01:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-02-07 13:53:39.287 +01:00 [DBG] Opened connection to database 'main' on server '/Users/iediong/Code/tutorials/csharp-projects/CityInfo/CityInfo.API/CityInfo.db'.
2024-02-07 13:53:39.294 +01:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2024-02-07 13:53:39.295 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2024-02-07 13:53:39.295 +01:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-07 13:53:39.295 +01:00 [DBG] A data reader was disposed.
2024-02-07 13:53:39.295 +01:00 [DBG] Closing connection to database 'main' on server '/Users/iediong/Code/tutorials/csharp-projects/CityInfo/CityInfo.API/CityInfo.db'.
2024-02-07 13:53:39.295 +01:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-02-07 13:53:39.297 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-02-07 13:53:39.297 +01:00 [DBG] No information found on request to perform content negotiation.
2024-02-07 13:53:39.297 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-02-07 13:53:39.297 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-02-07 13:53:39.297 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-02-07 13:53:39.297 +01:00 [INF] Executing OkObjectResult, writing value of type 'CityInfo.API.Models.CityWithoutPointsOfInterestDto'.
2024-02-07 13:53:39.297 +01:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API) in 42.3ms
2024-02-07 13:53:39.297 +01:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2024-02-07 13:53:39.298 +01:00 [DBG] Connection id "0HN17R3PNBICO" completed keep alive response.
2024-02-07 13:53:39.298 +01:00 [DBG] 'CityInfoContext' disposed.
2024-02-07 13:53:39.298 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7015/api/v1/cities/1 - - - 200 75 application/json;+charset=utf-8 52.0948ms
2024-02-07 13:55:49.945 +01:00 [DBG] Connection id "0HN17R3PNBICO" disconnecting.
2024-02-07 13:55:49.946 +01:00 [DBG] Connection id "0HN17R3PNBICO" stopped.
2024-02-07 13:55:49.947 +01:00 [DBG] Connection id "0HN17R3PNBICO" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-02-07 13:55:51.740 +01:00 [DBG] Connection id "0HN17R3PNBICP" received FIN.
2024-02-07 13:55:51.740 +01:00 [DBG] Connection id "0HN17R3PNBICP" accepted.
2024-02-07 13:55:51.741 +01:00 [DBG] Connection id "0HN17R3PNBICQ" accepted.
2024-02-07 13:55:51.741 +01:00 [DBG] Connection id "0HN17R3PNBICP" started.
2024-02-07 13:55:51.741 +01:00 [DBG] Connection id "0HN17R3PNBICP" disconnecting.
2024-02-07 13:55:51.741 +01:00 [DBG] Connection id "0HN17R3PNBICP" stopped.
2024-02-07 13:55:51.741 +01:00 [DBG] Connection id "0HN17R3PNBICQ" started.
2024-02-07 13:55:51.741 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5135/api/v1/cities - -
2024-02-07 13:55:51.742 +01:00 [DBG] 1 candidate(s) found for the request path '/api/v1/cities'
2024-02-07 13:55:51.742 +01:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/v{version:apiVersion}/Cities' is valid for the request path '/api/v1/cities'
2024-02-07 13:55:51.742 +01:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-02-07 13:55:51.742 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-02-07 13:55:51.743 +01:00 [DBG] Connection id "0HN17R3PNBICP" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-02-07 13:55:51.751 +01:00 [DBG] Https port '7015' discovered from server endpoints.
2024-02-07 13:55:51.754 +01:00 [DBG] Redirecting to 'https://localhost:7015/api/v1/cities'.
2024-02-07 13:55:51.754 +01:00 [DBG] Connection id "0HN17R3PNBICQ" completed keep alive response.
2024-02-07 13:55:51.754 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5135/api/v1/cities - - - 307 0 - 13.1115ms
2024-02-07 13:55:51.756 +01:00 [DBG] Connection id "0HN17R3PNBICR" received FIN.
2024-02-07 13:55:51.756 +01:00 [DBG] Connection id "0HN17R3PNBICS" accepted.
2024-02-07 13:55:51.757 +01:00 [DBG] Connection id "0HN17R3PNBICR" accepted.
2024-02-07 13:55:51.757 +01:00 [DBG] Connection id "0HN17R3PNBICS" started.
2024-02-07 13:55:51.757 +01:00 [DBG] Connection id "0HN17R3PNBICR" started.
2024-02-07 13:55:51.757 +01:00 [DBG] Connection id "0HN17R3PNBICR" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-02-07 13:55:51.757 +01:00 [DBG] Connection id "0HN17R3PNBICR" disconnecting.
2024-02-07 13:55:51.757 +01:00 [DBG] Connection id "0HN17R3PNBICR" stopped.
2024-02-07 13:55:51.787 +01:00 [DBG] Connection 0HN17R3PNBICS established using the following protocol: "Tls12"
2024-02-07 13:55:51.788 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7015/api/v1/cities - -
2024-02-07 13:55:51.788 +01:00 [DBG] 1 candidate(s) found for the request path '/api/v1/cities'
2024-02-07 13:55:51.788 +01:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/v{version:apiVersion}/Cities' is valid for the request path '/api/v1/cities'
2024-02-07 13:55:51.789 +01:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-02-07 13:55:51.789 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-02-07 13:55:51.796 +01:00 [DBG] Successfully validated the token.
2024-02-07 13:55:51.796 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-02-07 13:55:51.796 +01:00 [DBG] Authorization was successful.
2024-02-07 13:55:51.796 +01:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-02-07 13:55:51.797 +01:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointsOfInterestDto]]] GetCities(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-02-07 13:55:51.797 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-02-07 13:55:51.797 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-02-07 13:55:51.797 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-02-07 13:55:51.798 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-02-07 13:55:51.798 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-02-07 13:55:51.798 +01:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-02-07 13:55:51.798 +01:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-02-07 13:55:51.799 +01:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2024-02-07 13:55:51.799 +01:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2024-02-07 13:55:51.799 +01:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2024-02-07 13:55:51.799 +01:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2024-02-07 13:55:51.800 +01:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2024-02-07 13:55:51.800 +01:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2024-02-07 13:55:51.800 +01:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2024-02-07 13:55:51.800 +01:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2024-02-07 13:55:51.800 +01:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name '' in request data ...
2024-02-07 13:55:51.801 +01:00 [DBG] Could not find a value in the request with name '' for binding parameter 'searchQuery' of type 'System.String'.
2024-02-07 13:55:51.801 +01:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2024-02-07 13:55:51.801 +01:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2024-02-07 13:55:51.801 +01:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2024-02-07 13:55:51.801 +01:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2024-02-07 13:55:51.801 +01:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2024-02-07 13:55:51.802 +01:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name '' in request data ...
2024-02-07 13:55:51.802 +01:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageNumber' of type 'System.Int32'.
2024-02-07 13:55:51.802 +01:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2024-02-07 13:55:51.802 +01:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2024-02-07 13:55:51.802 +01:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2024-02-07 13:55:51.803 +01:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2024-02-07 13:55:51.803 +01:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2024-02-07 13:55:51.803 +01:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name '' in request data ...
2024-02-07 13:55:51.803 +01:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageSize' of type 'System.Int32'.
2024-02-07 13:55:51.803 +01:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2024-02-07 13:55:51.804 +01:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2024-02-07 13:55:51.804 +01:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2024-02-07 13:55:51.804 +01:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2024-02-07 13:55:51.805 +01:00 [INF] Entity Framework Core 6.0.19 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.19' with options: None
2024-02-07 13:55:51.805 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-02-07 13:55:51.806 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-02-07 13:55:51.806 +01:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-02-07 13:55:51.806 +01:00 [DBG] Opened connection to database 'main' on server '/Users/iediong/Code/tutorials/csharp-projects/CityInfo/CityInfo.API/CityInfo.db'.
2024-02-07 13:55:51.806 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2024-02-07 13:55:51.806 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2024-02-07 13:55:51.807 +01:00 [DBG] A data reader was disposed.
2024-02-07 13:55:51.807 +01:00 [DBG] Closing connection to database 'main' on server '/Users/iediong/Code/tutorials/csharp-projects/CityInfo/CityInfo.API/CityInfo.db'.
2024-02-07 13:55:51.807 +01:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-02-07 13:55:51.807 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-02-07 13:55:51.808 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-02-07 13:55:51.808 +01:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-02-07 13:55:51.808 +01:00 [DBG] Opened connection to database 'main' on server '/Users/iediong/Code/tutorials/csharp-projects/CityInfo/CityInfo.API/CityInfo.db'.
2024-02-07 13:55:51.808 +01:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
LIMIT @__p_1 OFFSET @__p_0
2024-02-07 13:55:51.808 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
LIMIT @__p_1 OFFSET @__p_0
2024-02-07 13:55:51.809 +01:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-07 13:55:51.809 +01:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-07 13:55:51.809 +01:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-07 13:55:51.809 +01:00 [DBG] A data reader was disposed.
2024-02-07 13:55:51.809 +01:00 [DBG] Closing connection to database 'main' on server '/Users/iediong/Code/tutorials/csharp-projects/CityInfo/CityInfo.API/CityInfo.db'.
2024-02-07 13:55:51.809 +01:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-02-07 13:55:51.809 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-02-07 13:55:51.810 +01:00 [DBG] No information found on request to perform content negotiation.
2024-02-07 13:55:51.810 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-02-07 13:55:51.810 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-02-07 13:55:51.810 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-02-07 13:55:51.810 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointsOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-02-07 13:55:51.811 +01:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 12.6356ms
2024-02-07 13:55:51.811 +01:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-02-07 13:55:51.811 +01:00 [DBG] Connection id "0HN17R3PNBICS" completed keep alive response.
2024-02-07 13:55:51.811 +01:00 [DBG] 'CityInfoContext' disposed.
2024-02-07 13:55:51.811 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7015/api/v1/cities - - - 200 247 application/json;+charset=utf-8 23.3573ms
2024-02-07 13:56:27.724 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5135/api/v1/cities/1 - -
2024-02-07 13:56:27.725 +01:00 [DBG] 1 candidate(s) found for the request path '/api/v1/cities/1'
2024-02-07 13:56:27.726 +01:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/v{version:apiVersion}/Cities/{id}' is valid for the request path '/api/v1/cities/1'
2024-02-07 13:56:27.726 +01:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2024-02-07 13:56:27.726 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-02-07 13:56:27.726 +01:00 [DBG] Redirecting to 'https://localhost:7015/api/v1/cities/1'.
2024-02-07 13:56:27.726 +01:00 [DBG] Connection id "0HN17R3PNBICQ" completed keep alive response.
2024-02-07 13:56:27.726 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5135/api/v1/cities/1 - - - 307 0 - 2.0063ms
2024-02-07 13:56:27.728 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7015/api/v1/cities/1 - -
2024-02-07 13:56:27.729 +01:00 [DBG] 1 candidate(s) found for the request path '/api/v1/cities/1'
2024-02-07 13:56:27.729 +01:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/v{version:apiVersion}/Cities/{id}' is valid for the request path '/api/v1/cities/1'
2024-02-07 13:56:27.729 +01:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2024-02-07 13:56:27.730 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-02-07 13:56:27.730 +01:00 [DBG] Successfully validated the token.
2024-02-07 13:56:27.730 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-02-07 13:56:27.731 +01:00 [DBG] Authorization was successful.
2024-02-07 13:56:27.731 +01:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2024-02-07 13:56:27.731 +01:00 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetCity(Int32, Boolean) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-02-07 13:56:27.731 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-02-07 13:56:27.731 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-02-07 13:56:27.732 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-02-07 13:56:27.732 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-02-07 13:56:27.732 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-02-07 13:56:27.732 +01:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-02-07 13:56:27.733 +01:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-02-07 13:56:27.733 +01:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2024-02-07 13:56:27.733 +01:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2024-02-07 13:56:27.734 +01:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-02-07 13:56:27.734 +01:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-02-07 13:56:27.734 +01:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2024-02-07 13:56:27.734 +01:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2024-02-07 13:56:27.735 +01:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2024-02-07 13:56:27.735 +01:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' using the name '' in request data ...
2024-02-07 13:56:27.735 +01:00 [DBG] Could not find a value in the request with name '' for binding parameter 'includePointsOfInterest' of type 'System.Boolean'.
2024-02-07 13:56:27.735 +01:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2024-02-07 13:56:27.735 +01:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2024-02-07 13:56:27.735 +01:00 [DBG] Attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2024-02-07 13:56:27.736 +01:00 [DBG] Done attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean'.
2024-02-07 13:56:27.737 +01:00 [INF] Entity Framework Core 6.0.19 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.19' with options: None
2024-02-07 13:56:27.737 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-02-07 13:56:27.738 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-02-07 13:56:27.738 +01:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-02-07 13:56:27.738 +01:00 [DBG] Opened connection to database 'main' on server '/Users/iediong/Code/tutorials/csharp-projects/CityInfo/CityInfo.API/CityInfo.db'.
2024-02-07 13:56:27.738 +01:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2024-02-07 13:56:27.739 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2024-02-07 13:56:27.739 +01:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-07 13:56:27.739 +01:00 [DBG] A data reader was disposed.
2024-02-07 13:56:27.739 +01:00 [DBG] Closing connection to database 'main' on server '/Users/iediong/Code/tutorials/csharp-projects/CityInfo/CityInfo.API/CityInfo.db'.
2024-02-07 13:56:27.739 +01:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-02-07 13:56:27.740 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-02-07 13:56:27.740 +01:00 [DBG] No information found on request to perform content negotiation.
2024-02-07 13:56:27.740 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-02-07 13:56:27.740 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-02-07 13:56:27.740 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-02-07 13:56:27.740 +01:00 [INF] Executing OkObjectResult, writing value of type 'CityInfo.API.Models.CityWithoutPointsOfInterestDto'.
2024-02-07 13:56:27.741 +01:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API) in 8.5988ms
2024-02-07 13:56:27.741 +01:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2024-02-07 13:56:27.741 +01:00 [DBG] Connection id "0HN17R3PNBICS" completed keep alive response.
2024-02-07 13:56:27.741 +01:00 [DBG] 'CityInfoContext' disposed.
2024-02-07 13:56:27.742 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7015/api/v1/cities/1 - - - 200 75 application/json;+charset=utf-8 13.0606ms
2024-02-07 13:57:06.917 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5135/api/cities/2/pointsofinterest - -
2024-02-07 13:57:06.917 +01:00 [DBG] No candidates found for the request path '/api/cities/2/pointsofinterest'
2024-02-07 13:57:06.917 +01:00 [DBG] Request did not match any endpoints
2024-02-07 13:57:06.917 +01:00 [DBG] The request path  does not match the path filter
2024-02-07 13:57:06.917 +01:00 [DBG] Redirecting to 'https://localhost:7015/api/cities/2/pointsofinterest'.
2024-02-07 13:57:06.917 +01:00 [DBG] Connection id "0HN17R3PNBICQ" completed keep alive response.
2024-02-07 13:57:06.917 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5135/api/cities/2/pointsofinterest - - - 307 0 - 0.8022ms
2024-02-07 13:57:06.919 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7015/api/cities/2/pointsofinterest - -
2024-02-07 13:57:06.919 +01:00 [DBG] No candidates found for the request path '/api/cities/2/pointsofinterest'
2024-02-07 13:57:06.919 +01:00 [DBG] Request did not match any endpoints
2024-02-07 13:57:06.919 +01:00 [DBG] The request path  does not match the path filter
2024-02-07 13:57:06.920 +01:00 [DBG] Successfully validated the token.
2024-02-07 13:57:06.920 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-02-07 13:57:06.920 +01:00 [DBG] Connection id "0HN17R3PNBICS" completed keep alive response.
2024-02-07 13:57:06.920 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7015/api/cities/2/pointsofinterest - - - 404 0 - 1.0745ms
2024-02-07 13:59:17.158 +01:00 [DBG] Connection id "0HN17R3PNBICQ" disconnecting.
2024-02-07 13:59:17.159 +01:00 [DBG] Connection id "0HN17R3PNBICQ" stopped.
2024-02-07 13:59:17.159 +01:00 [DBG] Connection id "0HN17R3PNBICS" disconnecting.
2024-02-07 13:59:17.160 +01:00 [DBG] Connection id "0HN17R3PNBICQ" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-02-07 13:59:17.160 +01:00 [DBG] Connection id "0HN17R3PNBICS" stopped.
2024-02-07 13:59:17.163 +01:00 [DBG] Connection id "0HN17R3PNBICS" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-02-07 13:59:31.695 +01:00 [DBG] Connection id "0HN17R3PNBICT" received FIN.
2024-02-07 13:59:31.695 +01:00 [DBG] Connection id "0HN17R3PNBICT" accepted.
2024-02-07 13:59:31.696 +01:00 [DBG] Connection id "0HN17R3PNBICU" accepted.
2024-02-07 13:59:31.696 +01:00 [DBG] Connection id "0HN17R3PNBICT" started.
2024-02-07 13:59:31.697 +01:00 [DBG] Connection id "0HN17R3PNBICT" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-02-07 13:59:31.697 +01:00 [DBG] Connection id "0HN17R3PNBICT" disconnecting.
2024-02-07 13:59:31.697 +01:00 [DBG] Connection id "0HN17R3PNBICT" stopped.
2024-02-07 13:59:31.698 +01:00 [DBG] Connection id "0HN17R3PNBICU" started.
2024-02-07 13:59:31.698 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5135/api/v1/cities/2/pointsofinterest - -
2024-02-07 13:59:31.698 +01:00 [DBG] 1 candidate(s) found for the request path '/api/v1/cities/2/pointsofinterest'
2024-02-07 13:59:31.698 +01:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterestAsync (CityInfo.API)' with route pattern 'api/v{version:apiVersion}/cities/{cityId}/pointsofinterest' is valid for the request path '/api/v1/cities/2/pointsofinterest'
2024-02-07 13:59:31.711 +01:00 [INF] Multiple candidate actions were found, but none matched the requested service API version '1'. Candidate actions: CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterestAsync (CityInfo.API)
2024-02-07 13:59:31.713 +01:00 [DBG] Request matched endpoint 'null'
2024-02-07 13:59:31.713 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-02-07 13:59:31.713 +01:00 [DBG] Redirecting to 'https://localhost:7015/api/v1/cities/2/pointsofinterest'.
2024-02-07 13:59:31.713 +01:00 [DBG] Connection id "0HN17R3PNBICU" completed keep alive response.
2024-02-07 13:59:31.714 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5135/api/v1/cities/2/pointsofinterest - - - 307 0 - 15.6578ms
2024-02-07 13:59:31.716 +01:00 [DBG] Connection id "0HN17R3PNBICV" accepted.
2024-02-07 13:59:31.716 +01:00 [DBG] Connection id "0HN17R3PNBID0" accepted.
2024-02-07 13:59:31.716 +01:00 [DBG] Connection id "0HN17R3PNBICV" received FIN.
2024-02-07 13:59:31.716 +01:00 [DBG] Connection id "0HN17R3PNBICV" started.
2024-02-07 13:59:31.729 +01:00 [DBG] Connection id "0HN17R3PNBID0" started.
2024-02-07 13:59:31.729 +01:00 [DBG] Connection id "0HN17R3PNBICV" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-02-07 13:59:31.729 +01:00 [DBG] Connection id "0HN17R3PNBICV" disconnecting.
2024-02-07 13:59:31.729 +01:00 [DBG] Connection id "0HN17R3PNBICV" stopped.
2024-02-07 13:59:31.760 +01:00 [DBG] Connection 0HN17R3PNBID0 established using the following protocol: "Tls12"
2024-02-07 13:59:31.760 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7015/api/v1/cities/2/pointsofinterest - -
2024-02-07 13:59:31.760 +01:00 [DBG] 1 candidate(s) found for the request path '/api/v1/cities/2/pointsofinterest'
2024-02-07 13:59:31.760 +01:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterestAsync (CityInfo.API)' with route pattern 'api/v{version:apiVersion}/cities/{cityId}/pointsofinterest' is valid for the request path '/api/v1/cities/2/pointsofinterest'
2024-02-07 13:59:31.761 +01:00 [INF] Multiple candidate actions were found, but none matched the requested service API version '1'. Candidate actions: CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterestAsync (CityInfo.API)
2024-02-07 13:59:31.761 +01:00 [DBG] Request matched endpoint 'null'
2024-02-07 13:59:31.761 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-02-07 13:59:31.761 +01:00 [DBG] Successfully validated the token.
2024-02-07 13:59:31.761 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-02-07 13:59:31.761 +01:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Http.Endpoint'
2024-02-07 13:59:31.762 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-02-07 13:59:31.762 +01:00 [DBG] No information found on request to perform content negotiation.
2024-02-07 13:59:31.762 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-02-07 13:59:31.762 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-02-07 13:59:31.762 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-02-07 13:59:31.763 +01:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType0`1[[<>f__AnonymousType1`3[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType2`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], Microsoft.AspNetCore.Mvc.Versioning, Version=5.1.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60]], Microsoft.AspNetCore.Mvc.Versioning, Version=5.1.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60]]'.
2024-02-07 13:59:31.771 +01:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Http.Endpoint'
2024-02-07 13:59:31.771 +01:00 [DBG] Connection id "0HN17R3PNBID0" completed keep alive response.
2024-02-07 13:59:31.772 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7015/api/v1/cities/2/pointsofinterest - - - 400 215 application/json;+charset=utf-8 11.3433ms
2024-02-07 14:00:24.356 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5135/api/v2/cities/2/pointsofinterest - -
2024-02-07 14:00:24.356 +01:00 [DBG] 1 candidate(s) found for the request path '/api/v2/cities/2/pointsofinterest'
2024-02-07 14:00:24.357 +01:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterestAsync (CityInfo.API)' with route pattern 'api/v{version:apiVersion}/cities/{cityId}/pointsofinterest' is valid for the request path '/api/v2/cities/2/pointsofinterest'
2024-02-07 14:00:24.357 +01:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterestAsync (CityInfo.API)'
2024-02-07 14:00:24.357 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-02-07 14:00:24.358 +01:00 [DBG] Redirecting to 'https://localhost:7015/api/v2/cities/2/pointsofinterest'.
2024-02-07 14:00:24.359 +01:00 [DBG] Connection id "0HN17R3PNBICU" completed keep alive response.
2024-02-07 14:00:24.359 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5135/api/v2/cities/2/pointsofinterest - - - 307 0 - 3.3450ms
2024-02-07 14:00:24.361 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7015/api/v2/cities/2/pointsofinterest - -
2024-02-07 14:00:24.361 +01:00 [DBG] 1 candidate(s) found for the request path '/api/v2/cities/2/pointsofinterest'
2024-02-07 14:00:24.362 +01:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterestAsync (CityInfo.API)' with route pattern 'api/v{version:apiVersion}/cities/{cityId}/pointsofinterest' is valid for the request path '/api/v2/cities/2/pointsofinterest'
2024-02-07 14:00:24.362 +01:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterestAsync (CityInfo.API)'
2024-02-07 14:00:24.363 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-02-07 14:00:24.363 +01:00 [DBG] Successfully validated the token.
2024-02-07 14:00:24.363 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-02-07 14:00:24.364 +01:00 [DBG] Authorization was successful.
2024-02-07 14:00:24.364 +01:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterestAsync (CityInfo.API)'
2024-02-07 14:00:24.369 +01:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]]] GetPointsOfInterestAsync(Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2024-02-07 14:00:24.369 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-02-07 14:00:24.369 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-02-07 14:00:24.370 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-02-07 14:00:24.370 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-02-07 14:00:24.370 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-02-07 14:00:24.370 +01:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-02-07 14:00:24.371 +01:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-02-07 14:00:24.371 +01:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-02-07 14:00:24.371 +01:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-02-07 14:00:24.372 +01:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-02-07 14:00:24.372 +01:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-02-07 14:00:24.372 +01:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-02-07 14:00:24.372 +01:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-02-07 14:00:24.377 +01:00 [INF] Entity Framework Core 6.0.19 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.19' with options: None
2024-02-07 14:00:24.377 +01:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(c => c.Id == __cityId_0)'
2024-02-07 14:00:24.386 +01:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-02-07 14:00:24.392 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-02-07 14:00:24.392 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-02-07 14:00:24.392 +01:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-02-07 14:00:24.392 +01:00 [DBG] Opened connection to database 'main' on server '/Users/iediong/Code/tutorials/csharp-projects/CityInfo/CityInfo.API/CityInfo.db'.
2024-02-07 14:00:24.392 +01:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-02-07 14:00:24.393 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-02-07 14:00:24.393 +01:00 [DBG] A data reader was disposed.
2024-02-07 14:00:24.393 +01:00 [DBG] Closing connection to database 'main' on server '/Users/iediong/Code/tutorials/csharp-projects/CityInfo/CityInfo.API/CityInfo.db'.
2024-02-07 14:00:24.393 +01:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-02-07 14:00:24.394 +01:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .Where(p => p.CityId == __cityId_0)'
2024-02-07 14:00:24.396 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<PointOfInterest>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string) MaxLength(200), 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3] }
        SELECT p.Id, p.CityId, p.Description, p.Name
        FROM PointsOfInterest AS p
        WHERE p.CityId == @__cityId_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
    CityInfo.API.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2024-02-07 14:00:24.396 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-02-07 14:00:24.396 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-02-07 14:00:24.396 +01:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-02-07 14:00:24.396 +01:00 [DBG] Opened connection to database 'main' on server '/Users/iediong/Code/tutorials/csharp-projects/CityInfo/CityInfo.API/CityInfo.db'.
2024-02-07 14:00:24.396 +01:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE "p"."CityId" = @__cityId_0
2024-02-07 14:00:24.398 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE "p"."CityId" = @__cityId_0
2024-02-07 14:00:24.399 +01:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-07 14:00:24.402 +01:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-07 14:00:24.402 +01:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-07 14:00:24.402 +01:00 [DBG] A data reader was disposed.
2024-02-07 14:00:24.402 +01:00 [DBG] Closing connection to database 'main' on server '/Users/iediong/Code/tutorials/csharp-projects/CityInfo/CityInfo.API/CityInfo.db'.
2024-02-07 14:00:24.402 +01:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-02-07 14:00:24.405 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-02-07 14:00:24.405 +01:00 [DBG] No information found on request to perform content negotiation.
2024-02-07 14:00:24.405 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-02-07 14:00:24.405 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-02-07 14:00:24.405 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-02-07 14:00:24.405 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-02-07 14:00:24.407 +01:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterestAsync (CityInfo.API) in 36.9487ms
2024-02-07 14:00:24.407 +01:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterestAsync (CityInfo.API)'
2024-02-07 14:00:24.407 +01:00 [DBG] Connection id "0HN17R3PNBID0" completed keep alive response.
2024-02-07 14:00:24.407 +01:00 [DBG] 'CityInfoContext' disposed.
2024-02-07 14:00:24.407 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7015/api/v2/cities/2/pointsofinterest - - - 200 363 application/json;+charset=utf-8 46.2317ms
2024-02-07 14:01:14.875 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5135/api/v2/cities/1 - -
2024-02-07 14:01:14.876 +01:00 [DBG] 1 candidate(s) found for the request path '/api/v2/cities/1'
2024-02-07 14:01:14.876 +01:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/v{version:apiVersion}/Cities/{id}' is valid for the request path '/api/v2/cities/1'
2024-02-07 14:01:14.876 +01:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2024-02-07 14:01:14.876 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-02-07 14:01:14.876 +01:00 [DBG] Redirecting to 'https://localhost:7015/api/v2/cities/1'.
2024-02-07 14:01:14.876 +01:00 [DBG] Connection id "0HN17R3PNBICU" completed keep alive response.
2024-02-07 14:01:14.877 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5135/api/v2/cities/1 - - - 307 0 - 2.0136ms
2024-02-07 14:01:14.878 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7015/api/v2/cities/1 - -
2024-02-07 14:01:14.879 +01:00 [DBG] 1 candidate(s) found for the request path '/api/v2/cities/1'
2024-02-07 14:01:14.879 +01:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/v{version:apiVersion}/Cities/{id}' is valid for the request path '/api/v2/cities/1'
2024-02-07 14:01:14.879 +01:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2024-02-07 14:01:14.879 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-02-07 14:01:14.880 +01:00 [DBG] Successfully validated the token.
2024-02-07 14:01:14.880 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-02-07 14:01:14.880 +01:00 [DBG] Authorization was successful.
2024-02-07 14:01:14.880 +01:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2024-02-07 14:01:14.881 +01:00 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetCity(Int32, Boolean) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-02-07 14:01:14.881 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-02-07 14:01:14.881 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-02-07 14:01:14.881 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-02-07 14:01:14.882 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-02-07 14:01:14.882 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-02-07 14:01:14.882 +01:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-02-07 14:01:14.883 +01:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-02-07 14:01:14.883 +01:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2024-02-07 14:01:14.883 +01:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2024-02-07 14:01:14.883 +01:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-02-07 14:01:14.883 +01:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-02-07 14:01:14.884 +01:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2024-02-07 14:01:14.884 +01:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2024-02-07 14:01:14.884 +01:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2024-02-07 14:01:14.884 +01:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' using the name '' in request data ...
2024-02-07 14:01:14.884 +01:00 [DBG] Could not find a value in the request with name '' for binding parameter 'includePointsOfInterest' of type 'System.Boolean'.
2024-02-07 14:01:14.885 +01:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2024-02-07 14:01:14.885 +01:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2024-02-07 14:01:14.885 +01:00 [DBG] Attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2024-02-07 14:01:14.885 +01:00 [DBG] Done attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean'.
2024-02-07 14:01:14.886 +01:00 [INF] Entity Framework Core 6.0.19 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.19' with options: None
2024-02-07 14:01:14.886 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-02-07 14:01:14.887 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-02-07 14:01:14.887 +01:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-02-07 14:01:14.887 +01:00 [DBG] Opened connection to database 'main' on server '/Users/iediong/Code/tutorials/csharp-projects/CityInfo/CityInfo.API/CityInfo.db'.
2024-02-07 14:01:14.887 +01:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2024-02-07 14:01:14.888 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2024-02-07 14:01:14.888 +01:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-07 14:01:14.888 +01:00 [DBG] A data reader was disposed.
2024-02-07 14:01:14.888 +01:00 [DBG] Closing connection to database 'main' on server '/Users/iediong/Code/tutorials/csharp-projects/CityInfo/CityInfo.API/CityInfo.db'.
2024-02-07 14:01:14.888 +01:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-02-07 14:01:14.889 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-02-07 14:01:14.889 +01:00 [DBG] No information found on request to perform content negotiation.
2024-02-07 14:01:14.889 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-02-07 14:01:14.889 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-02-07 14:01:14.889 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-02-07 14:01:14.889 +01:00 [INF] Executing OkObjectResult, writing value of type 'CityInfo.API.Models.CityWithoutPointsOfInterestDto'.
2024-02-07 14:01:14.890 +01:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API) in 7.862ms
2024-02-07 14:01:14.890 +01:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2024-02-07 14:01:14.890 +01:00 [DBG] Connection id "0HN17R3PNBID0" completed keep alive response.
2024-02-07 14:01:14.890 +01:00 [DBG] 'CityInfoContext' disposed.
2024-02-07 14:01:14.891 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7015/api/v2/cities/1 - - - 200 75 application/json;+charset=utf-8 12.2958ms
2024-02-07 14:01:24.608 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5135/api/v2/cities - -
2024-02-07 14:01:24.609 +01:00 [DBG] 1 candidate(s) found for the request path '/api/v2/cities'
2024-02-07 14:01:24.609 +01:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/v{version:apiVersion}/Cities' is valid for the request path '/api/v2/cities'
2024-02-07 14:01:24.609 +01:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-02-07 14:01:24.609 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-02-07 14:01:24.610 +01:00 [DBG] Redirecting to 'https://localhost:7015/api/v2/cities'.
2024-02-07 14:01:24.610 +01:00 [DBG] Connection id "0HN17R3PNBICU" completed keep alive response.
2024-02-07 14:01:24.610 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5135/api/v2/cities - - - 307 0 - 1.8562ms
2024-02-07 14:01:24.612 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7015/api/v2/cities - -
2024-02-07 14:01:24.612 +01:00 [DBG] 1 candidate(s) found for the request path '/api/v2/cities'
2024-02-07 14:01:24.612 +01:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/v{version:apiVersion}/Cities' is valid for the request path '/api/v2/cities'
2024-02-07 14:01:24.613 +01:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-02-07 14:01:24.613 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-02-07 14:01:24.613 +01:00 [DBG] Successfully validated the token.
2024-02-07 14:01:24.613 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-02-07 14:01:24.613 +01:00 [DBG] Authorization was successful.
2024-02-07 14:01:24.613 +01:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-02-07 14:01:24.613 +01:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointsOfInterestDto]]] GetCities(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-02-07 14:01:24.614 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-02-07 14:01:24.614 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-02-07 14:01:24.614 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-02-07 14:01:24.614 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-02-07 14:01:24.614 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-02-07 14:01:24.615 +01:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-02-07 14:01:24.615 +01:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-02-07 14:01:24.615 +01:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2024-02-07 14:01:24.616 +01:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2024-02-07 14:01:24.616 +01:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2024-02-07 14:01:24.616 +01:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2024-02-07 14:01:24.616 +01:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2024-02-07 14:01:24.616 +01:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2024-02-07 14:01:24.617 +01:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2024-02-07 14:01:24.617 +01:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2024-02-07 14:01:24.617 +01:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name '' in request data ...
2024-02-07 14:01:24.617 +01:00 [DBG] Could not find a value in the request with name '' for binding parameter 'searchQuery' of type 'System.String'.
2024-02-07 14:01:24.617 +01:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2024-02-07 14:01:24.618 +01:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2024-02-07 14:01:24.618 +01:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2024-02-07 14:01:24.618 +01:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2024-02-07 14:01:24.618 +01:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2024-02-07 14:01:24.618 +01:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name '' in request data ...
2024-02-07 14:01:24.618 +01:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageNumber' of type 'System.Int32'.
2024-02-07 14:01:24.618 +01:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2024-02-07 14:01:24.618 +01:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2024-02-07 14:01:24.619 +01:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2024-02-07 14:01:24.619 +01:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2024-02-07 14:01:24.619 +01:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2024-02-07 14:01:24.619 +01:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name '' in request data ...
2024-02-07 14:01:24.619 +01:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageSize' of type 'System.Int32'.
2024-02-07 14:01:24.619 +01:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2024-02-07 14:01:24.619 +01:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2024-02-07 14:01:24.620 +01:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2024-02-07 14:01:24.620 +01:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2024-02-07 14:01:24.620 +01:00 [INF] Entity Framework Core 6.0.19 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.19' with options: None
2024-02-07 14:01:24.621 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-02-07 14:01:24.621 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-02-07 14:01:24.621 +01:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-02-07 14:01:24.621 +01:00 [DBG] Opened connection to database 'main' on server '/Users/iediong/Code/tutorials/csharp-projects/CityInfo/CityInfo.API/CityInfo.db'.
2024-02-07 14:01:24.622 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2024-02-07 14:01:24.622 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2024-02-07 14:01:24.622 +01:00 [DBG] A data reader was disposed.
2024-02-07 14:01:24.622 +01:00 [DBG] Closing connection to database 'main' on server '/Users/iediong/Code/tutorials/csharp-projects/CityInfo/CityInfo.API/CityInfo.db'.
2024-02-07 14:01:24.623 +01:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-02-07 14:01:24.623 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-02-07 14:01:24.623 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-02-07 14:01:24.623 +01:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-02-07 14:01:24.624 +01:00 [DBG] Opened connection to database 'main' on server '/Users/iediong/Code/tutorials/csharp-projects/CityInfo/CityInfo.API/CityInfo.db'.
2024-02-07 14:01:24.624 +01:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
LIMIT @__p_1 OFFSET @__p_0
2024-02-07 14:01:24.624 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
LIMIT @__p_1 OFFSET @__p_0
2024-02-07 14:01:24.625 +01:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-07 14:01:24.625 +01:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-07 14:01:24.625 +01:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-07 14:01:24.625 +01:00 [DBG] A data reader was disposed.
2024-02-07 14:01:24.625 +01:00 [DBG] Closing connection to database 'main' on server '/Users/iediong/Code/tutorials/csharp-projects/CityInfo/CityInfo.API/CityInfo.db'.
2024-02-07 14:01:24.625 +01:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-02-07 14:01:24.626 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-02-07 14:01:24.626 +01:00 [DBG] No information found on request to perform content negotiation.
2024-02-07 14:01:24.626 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-02-07 14:01:24.626 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-02-07 14:01:24.626 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-02-07 14:01:24.626 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointsOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-02-07 14:01:24.627 +01:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 12.1195ms
2024-02-07 14:01:24.627 +01:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-02-07 14:01:24.627 +01:00 [DBG] Connection id "0HN17R3PNBID0" completed keep alive response.
2024-02-07 14:01:24.627 +01:00 [DBG] 'CityInfoContext' disposed.
2024-02-07 14:01:24.644 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7015/api/v2/cities - - - 200 247 application/json;+charset=utf-8 32.4607ms
2024-02-07 14:01:34.365 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5135/api/v2/cities/1 - -
2024-02-07 14:01:34.365 +01:00 [DBG] 1 candidate(s) found for the request path '/api/v2/cities/1'
2024-02-07 14:01:34.365 +01:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/v{version:apiVersion}/Cities/{id}' is valid for the request path '/api/v2/cities/1'
2024-02-07 14:01:34.365 +01:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2024-02-07 14:01:34.365 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-02-07 14:01:34.365 +01:00 [DBG] Redirecting to 'https://localhost:7015/api/v2/cities/1'.
2024-02-07 14:01:34.365 +01:00 [DBG] Connection id "0HN17R3PNBICU" completed keep alive response.
2024-02-07 14:01:34.365 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5135/api/v2/cities/1 - - - 307 0 - 0.9953ms
2024-02-07 14:01:34.366 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7015/api/v2/cities/1 - -
2024-02-07 14:01:34.367 +01:00 [DBG] 1 candidate(s) found for the request path '/api/v2/cities/1'
2024-02-07 14:01:34.367 +01:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/v{version:apiVersion}/Cities/{id}' is valid for the request path '/api/v2/cities/1'
2024-02-07 14:01:34.367 +01:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2024-02-07 14:01:34.367 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-02-07 14:01:34.367 +01:00 [DBG] Successfully validated the token.
2024-02-07 14:01:34.368 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-02-07 14:01:34.368 +01:00 [DBG] Authorization was successful.
2024-02-07 14:01:34.368 +01:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2024-02-07 14:01:34.368 +01:00 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetCity(Int32, Boolean) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-02-07 14:01:34.368 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-02-07 14:01:34.368 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-02-07 14:01:34.368 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-02-07 14:01:34.368 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-02-07 14:01:34.369 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-02-07 14:01:34.369 +01:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-02-07 14:01:34.370 +01:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-02-07 14:01:34.370 +01:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2024-02-07 14:01:34.370 +01:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2024-02-07 14:01:34.370 +01:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-02-07 14:01:34.370 +01:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-02-07 14:01:34.370 +01:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2024-02-07 14:01:34.371 +01:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2024-02-07 14:01:34.371 +01:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2024-02-07 14:01:34.371 +01:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' using the name '' in request data ...
2024-02-07 14:01:34.371 +01:00 [DBG] Could not find a value in the request with name '' for binding parameter 'includePointsOfInterest' of type 'System.Boolean'.
2024-02-07 14:01:34.371 +01:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2024-02-07 14:01:34.371 +01:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2024-02-07 14:01:34.371 +01:00 [DBG] Attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2024-02-07 14:01:34.372 +01:00 [DBG] Done attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean'.
2024-02-07 14:01:34.373 +01:00 [INF] Entity Framework Core 6.0.19 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.19' with options: None
2024-02-07 14:01:34.373 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-02-07 14:01:34.374 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-02-07 14:01:34.374 +01:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-02-07 14:01:34.374 +01:00 [DBG] Opened connection to database 'main' on server '/Users/iediong/Code/tutorials/csharp-projects/CityInfo/CityInfo.API/CityInfo.db'.
2024-02-07 14:01:34.374 +01:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2024-02-07 14:01:34.375 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2024-02-07 14:01:34.375 +01:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-07 14:01:34.375 +01:00 [DBG] A data reader was disposed.
2024-02-07 14:01:34.375 +01:00 [DBG] Closing connection to database 'main' on server '/Users/iediong/Code/tutorials/csharp-projects/CityInfo/CityInfo.API/CityInfo.db'.
2024-02-07 14:01:34.375 +01:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-02-07 14:01:34.375 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-02-07 14:01:34.376 +01:00 [DBG] No information found on request to perform content negotiation.
2024-02-07 14:01:34.376 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-02-07 14:01:34.376 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-02-07 14:01:34.376 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-02-07 14:01:34.376 +01:00 [INF] Executing OkObjectResult, writing value of type 'CityInfo.API.Models.CityWithoutPointsOfInterestDto'.
2024-02-07 14:01:34.377 +01:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API) in 7.2893ms
2024-02-07 14:01:34.377 +01:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2024-02-07 14:01:34.377 +01:00 [DBG] Connection id "0HN17R3PNBID0" completed keep alive response.
2024-02-07 14:01:34.377 +01:00 [DBG] 'CityInfoContext' disposed.
2024-02-07 14:01:34.377 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7015/api/v2/cities/1 - - - 200 75 application/json;+charset=utf-8 10.5758ms
2024-02-07 14:01:59.791 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7015/api/v2/cities/4/pointsofinterest - -
2024-02-07 14:01:59.791 +01:00 [DBG] 1 candidate(s) found for the request path '/api/v2/cities/4/pointsofinterest'
2024-02-07 14:01:59.791 +01:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterestAsync (CityInfo.API)' with route pattern 'api/v{version:apiVersion}/cities/{cityId}/pointsofinterest' is valid for the request path '/api/v2/cities/4/pointsofinterest'
2024-02-07 14:01:59.791 +01:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterestAsync (CityInfo.API)'
2024-02-07 14:01:59.791 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-02-07 14:01:59.792 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-02-07 14:01:59.792 +01:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
ClaimsAuthorizationRequirement:Claim.Type=city and Claim.Value is one of the following values: (Antwerp)
2024-02-07 14:01:59.792 +01:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-02-07 14:01:59.793 +01:00 [DBG] Connection id "0HN17R3PNBID0" completed keep alive response.
2024-02-07 14:01:59.793 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7015/api/v2/cities/4/pointsofinterest - - - 401 0 - 2.2775ms
2024-02-07 14:02:07.281 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7015/api/v2/cities/4/pointsofinterest - -
2024-02-07 14:02:07.282 +01:00 [DBG] 1 candidate(s) found for the request path '/api/v2/cities/4/pointsofinterest'
2024-02-07 14:02:07.282 +01:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterestAsync (CityInfo.API)' with route pattern 'api/v{version:apiVersion}/cities/{cityId}/pointsofinterest' is valid for the request path '/api/v2/cities/4/pointsofinterest'
2024-02-07 14:02:07.282 +01:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterestAsync (CityInfo.API)'
2024-02-07 14:02:07.282 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-02-07 14:02:07.283 +01:00 [DBG] Successfully validated the token.
2024-02-07 14:02:07.283 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-02-07 14:02:07.284 +01:00 [DBG] Authorization was successful.
2024-02-07 14:02:07.284 +01:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterestAsync (CityInfo.API)'
2024-02-07 14:02:07.284 +01:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]]] GetPointsOfInterestAsync(Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2024-02-07 14:02:07.285 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-02-07 14:02:07.285 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-02-07 14:02:07.286 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-02-07 14:02:07.286 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-02-07 14:02:07.286 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-02-07 14:02:07.286 +01:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-02-07 14:02:07.287 +01:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-02-07 14:02:07.288 +01:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-02-07 14:02:07.288 +01:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-02-07 14:02:07.289 +01:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-02-07 14:02:07.289 +01:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-02-07 14:02:07.289 +01:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-02-07 14:02:07.289 +01:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-02-07 14:02:07.292 +01:00 [INF] Entity Framework Core 6.0.19 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.19' with options: None
2024-02-07 14:02:07.293 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-02-07 14:02:07.293 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-02-07 14:02:07.294 +01:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-02-07 14:02:07.294 +01:00 [DBG] Opened connection to database 'main' on server '/Users/iediong/Code/tutorials/csharp-projects/CityInfo/CityInfo.API/CityInfo.db'.
2024-02-07 14:02:07.294 +01:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-02-07 14:02:07.295 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-02-07 14:02:07.295 +01:00 [DBG] A data reader was disposed.
2024-02-07 14:02:07.295 +01:00 [DBG] Closing connection to database 'main' on server '/Users/iediong/Code/tutorials/csharp-projects/CityInfo/CityInfo.API/CityInfo.db'.
2024-02-07 14:02:07.295 +01:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-02-07 14:02:07.296 +01:00 [INF] City with id [4] was not found
2024-02-07 14:02:07.298 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-02-07 14:02:07.298 +01:00 [DBG] No information found on request to perform content negotiation.
2024-02-07 14:02:07.299 +01:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-02-07 14:02:07.299 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-02-07 14:02:07.299 +01:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2024-02-07 14:02:07.310 +01:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterestAsync (CityInfo.API) in 23.385ms
2024-02-07 14:02:07.310 +01:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterestAsync (CityInfo.API)'
2024-02-07 14:02:07.310 +01:00 [DBG] Connection id "0HN17R3PNBID0" completed keep alive response.
2024-02-07 14:02:07.310 +01:00 [DBG] 'CityInfoContext' disposed.
2024-02-07 14:02:07.310 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7015/api/v2/cities/4/pointsofinterest - - - 404 161 application/problem+json;+charset=utf-8 28.7875ms
2024-02-07 14:02:59.027 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7015/api/v2/cities/1/pointsofinterest/1 - -
2024-02-07 14:02:59.028 +01:00 [DBG] 1 candidate(s) found for the request path '/api/v2/cities/1/pointsofinterest/1'
2024-02-07 14:02:59.028 +01:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterestAsync (CityInfo.API)' with route pattern 'api/v{version:apiVersion}/cities/{cityId}/pointsofinterest/{pointofinterestid}' is valid for the request path '/api/v2/cities/1/pointsofinterest/1'
2024-02-07 14:02:59.028 +01:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterestAsync (CityInfo.API)'
2024-02-07 14:02:59.029 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-02-07 14:02:59.029 +01:00 [DBG] Successfully validated the token.
2024-02-07 14:02:59.029 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-02-07 14:02:59.030 +01:00 [DBG] Authorization was successful.
2024-02-07 14:02:59.030 +01:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterestAsync (CityInfo.API)'
2024-02-07 14:02:59.037 +01:00 [INF] Route matched with {action = "GetPointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.PointOfInterestDto]] GetPointOfInterestAsync(Int32, Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2024-02-07 14:02:59.037 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-02-07 14:02:59.037 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-02-07 14:02:59.037 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-02-07 14:02:59.038 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-02-07 14:02:59.038 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-02-07 14:02:59.038 +01:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-02-07 14:02:59.039 +01:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-02-07 14:02:59.039 +01:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-02-07 14:02:59.039 +01:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-02-07 14:02:59.040 +01:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-02-07 14:02:59.040 +01:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-02-07 14:02:59.040 +01:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-02-07 14:02:59.040 +01:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-02-07 14:02:59.040 +01:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' ...
2024-02-07 14:02:59.040 +01:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' using the name 'pointOfInterestId' in request data ...
2024-02-07 14:02:59.040 +01:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2024-02-07 14:02:59.040 +01:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2024-02-07 14:02:59.040 +01:00 [DBG] Attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32' ...
2024-02-07 14:02:59.040 +01:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32'.
2024-02-07 14:02:59.041 +01:00 [INF] Entity Framework Core 6.0.19 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.19' with options: None
2024-02-07 14:02:59.042 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-02-07 14:02:59.042 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-02-07 14:02:59.042 +01:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-02-07 14:02:59.042 +01:00 [DBG] Opened connection to database 'main' on server '/Users/iediong/Code/tutorials/csharp-projects/CityInfo/CityInfo.API/CityInfo.db'.
2024-02-07 14:02:59.042 +01:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-02-07 14:02:59.042 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-02-07 14:02:59.042 +01:00 [DBG] A data reader was disposed.
2024-02-07 14:02:59.042 +01:00 [DBG] Closing connection to database 'main' on server '/Users/iediong/Code/tutorials/csharp-projects/CityInfo/CityInfo.API/CityInfo.db'.
2024-02-07 14:02:59.042 +01:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-02-07 14:02:59.043 +01:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .Where(p => p.CityId == __cityId_0 && p.Id == __pointOfInterestId_1)
    .FirstOrDefault()'
2024-02-07 14:02:59.046 +01:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<PointOfInterest>(
    asyncEnumerable: new SingleQueryingEnumerable<PointOfInterest>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string) MaxLength(200), 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3] }
            SELECT TOP(1) p.Id, p.CityId, p.Description, p.Name
            FROM PointsOfInterest AS p
            WHERE (p.CityId == @__cityId_0) && (p.Id == @__pointOfInterestId_1)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-02-07 14:02:59.048 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-02-07 14:02:59.048 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-02-07 14:02:59.048 +01:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-02-07 14:02:59.049 +01:00 [DBG] Opened connection to database 'main' on server '/Users/iediong/Code/tutorials/csharp-projects/CityInfo/CityInfo.API/CityInfo.db'.
2024-02-07 14:02:59.077 +01:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointOfInterestId_1)
LIMIT 1
2024-02-07 14:02:59.078 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointOfInterestId_1)
LIMIT 1
2024-02-07 14:02:59.078 +01:00 [DBG] A data reader was disposed.
2024-02-07 14:02:59.078 +01:00 [DBG] Closing connection to database 'main' on server '/Users/iediong/Code/tutorials/csharp-projects/CityInfo/CityInfo.API/CityInfo.db'.
2024-02-07 14:02:59.078 +01:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-02-07 14:02:59.079 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-02-07 14:02:59.079 +01:00 [DBG] No information found on request to perform content negotiation.
2024-02-07 14:02:59.080 +01:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-02-07 14:02:59.080 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-02-07 14:02:59.080 +01:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2024-02-07 14:02:59.081 +01:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterestAsync (CityInfo.API) in 42.651ms
2024-02-07 14:02:59.081 +01:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterestAsync (CityInfo.API)'
2024-02-07 14:02:59.081 +01:00 [DBG] Connection id "0HN17R3PNBID0" completed keep alive response.
2024-02-07 14:02:59.081 +01:00 [DBG] 'CityInfoContext' disposed.
2024-02-07 14:02:59.081 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7015/api/v2/cities/1/pointsofinterest/1 - - - 404 161 application/problem+json;+charset=utf-8 54.0079ms
2024-02-07 14:03:25.021 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5135/api/v2/cities/4/pointsofinterest - -
2024-02-07 14:03:25.021 +01:00 [DBG] 1 candidate(s) found for the request path '/api/v2/cities/4/pointsofinterest'
2024-02-07 14:03:25.021 +01:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterestAsync (CityInfo.API)' with route pattern 'api/v{version:apiVersion}/cities/{cityId}/pointsofinterest' is valid for the request path '/api/v2/cities/4/pointsofinterest'
2024-02-07 14:03:25.021 +01:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterestAsync (CityInfo.API)'
2024-02-07 14:03:25.022 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-02-07 14:03:25.022 +01:00 [DBG] Redirecting to 'https://localhost:7015/api/v2/cities/4/pointsofinterest'.
2024-02-07 14:03:25.022 +01:00 [DBG] Connection id "0HN17R3PNBICU" completed keep alive response.
2024-02-07 14:03:25.022 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5135/api/v2/cities/4/pointsofinterest - - - 307 0 - 1.0656ms
2024-02-07 14:03:25.025 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7015/api/v2/cities/4/pointsofinterest - -
2024-02-07 14:03:25.025 +01:00 [DBG] 1 candidate(s) found for the request path '/api/v2/cities/4/pointsofinterest'
2024-02-07 14:03:25.025 +01:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterestAsync (CityInfo.API)' with route pattern 'api/v{version:apiVersion}/cities/{cityId}/pointsofinterest' is valid for the request path '/api/v2/cities/4/pointsofinterest'
2024-02-07 14:03:25.025 +01:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterestAsync (CityInfo.API)'
2024-02-07 14:03:25.025 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-02-07 14:03:25.026 +01:00 [DBG] Successfully validated the token.
2024-02-07 14:03:25.026 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-02-07 14:03:25.026 +01:00 [DBG] Authorization was successful.
2024-02-07 14:03:25.026 +01:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterestAsync (CityInfo.API)'
2024-02-07 14:03:25.026 +01:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]]] GetPointsOfInterestAsync(Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2024-02-07 14:03:25.027 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-02-07 14:03:25.027 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-02-07 14:03:25.027 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-02-07 14:03:25.027 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-02-07 14:03:25.027 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-02-07 14:03:25.028 +01:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-02-07 14:03:25.028 +01:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-02-07 14:03:25.028 +01:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-02-07 14:03:25.028 +01:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-02-07 14:03:25.028 +01:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-02-07 14:03:25.028 +01:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-02-07 14:03:25.029 +01:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-02-07 14:03:25.029 +01:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-02-07 14:03:25.029 +01:00 [INF] Entity Framework Core 6.0.19 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.19' with options: None
2024-02-07 14:03:25.030 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-02-07 14:03:25.030 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-02-07 14:03:25.030 +01:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-02-07 14:03:25.030 +01:00 [DBG] Opened connection to database 'main' on server '/Users/iediong/Code/tutorials/csharp-projects/CityInfo/CityInfo.API/CityInfo.db'.
2024-02-07 14:03:25.030 +01:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-02-07 14:03:25.030 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-02-07 14:03:25.031 +01:00 [DBG] A data reader was disposed.
2024-02-07 14:03:25.031 +01:00 [DBG] Closing connection to database 'main' on server '/Users/iediong/Code/tutorials/csharp-projects/CityInfo/CityInfo.API/CityInfo.db'.
2024-02-07 14:03:25.031 +01:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-02-07 14:03:25.031 +01:00 [INF] City with id [4] was not found
2024-02-07 14:03:25.031 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-02-07 14:03:25.031 +01:00 [DBG] No information found on request to perform content negotiation.
2024-02-07 14:03:25.031 +01:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-02-07 14:03:25.031 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-02-07 14:03:25.032 +01:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2024-02-07 14:03:25.032 +01:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterestAsync (CityInfo.API) in 4.2591ms
2024-02-07 14:03:25.032 +01:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterestAsync (CityInfo.API)'
2024-02-07 14:03:25.032 +01:00 [DBG] Connection id "0HN17R3PNBID0" completed keep alive response.
2024-02-07 14:03:25.032 +01:00 [DBG] 'CityInfoContext' disposed.
2024-02-07 14:03:25.032 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7015/api/v2/cities/4/pointsofinterest - - - 404 161 application/problem+json;+charset=utf-8 7.5549ms
2024-02-07 14:04:10.175 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5135/api/v2/cities/1/pointsofinterest/1 - -
2024-02-07 14:04:10.176 +01:00 [DBG] 1 candidate(s) found for the request path '/api/v2/cities/1/pointsofinterest/1'
2024-02-07 14:04:10.177 +01:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterestAsync (CityInfo.API)' with route pattern 'api/v{version:apiVersion}/cities/{cityId}/pointsofinterest/{pointofinterestid}' is valid for the request path '/api/v2/cities/1/pointsofinterest/1'
2024-02-07 14:04:10.177 +01:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterestAsync (CityInfo.API)'
2024-02-07 14:04:10.177 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-02-07 14:04:10.177 +01:00 [DBG] Redirecting to 'https://localhost:7015/api/v2/cities/1/pointsofinterest/1'.
2024-02-07 14:04:10.177 +01:00 [DBG] Connection id "0HN17R3PNBICU" completed keep alive response.
2024-02-07 14:04:10.177 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5135/api/v2/cities/1/pointsofinterest/1 - - - 307 0 - 1.8448ms
2024-02-07 14:04:10.179 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7015/api/v2/cities/1/pointsofinterest/1 - -
2024-02-07 14:04:10.179 +01:00 [DBG] 1 candidate(s) found for the request path '/api/v2/cities/1/pointsofinterest/1'
2024-02-07 14:04:10.179 +01:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterestAsync (CityInfo.API)' with route pattern 'api/v{version:apiVersion}/cities/{cityId}/pointsofinterest/{pointofinterestid}' is valid for the request path '/api/v2/cities/1/pointsofinterest/1'
2024-02-07 14:04:10.180 +01:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterestAsync (CityInfo.API)'
2024-02-07 14:04:10.180 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-02-07 14:04:10.180 +01:00 [DBG] Successfully validated the token.
2024-02-07 14:04:10.181 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-02-07 14:04:10.181 +01:00 [DBG] Authorization was successful.
2024-02-07 14:04:10.181 +01:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterestAsync (CityInfo.API)'
2024-02-07 14:04:10.181 +01:00 [INF] Route matched with {action = "GetPointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.PointOfInterestDto]] GetPointOfInterestAsync(Int32, Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2024-02-07 14:04:10.181 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-02-07 14:04:10.182 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-02-07 14:04:10.182 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-02-07 14:04:10.182 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-02-07 14:04:10.182 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-02-07 14:04:10.183 +01:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-02-07 14:04:10.183 +01:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-02-07 14:04:10.183 +01:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-02-07 14:04:10.184 +01:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-02-07 14:04:10.184 +01:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-02-07 14:04:10.184 +01:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-02-07 14:04:10.184 +01:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-02-07 14:04:10.184 +01:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-02-07 14:04:10.185 +01:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' ...
2024-02-07 14:04:10.185 +01:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' using the name 'pointOfInterestId' in request data ...
2024-02-07 14:04:10.185 +01:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2024-02-07 14:04:10.185 +01:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2024-02-07 14:04:10.185 +01:00 [DBG] Attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32' ...
2024-02-07 14:04:10.186 +01:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32'.
2024-02-07 14:04:10.187 +01:00 [INF] Entity Framework Core 6.0.19 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.19' with options: None
2024-02-07 14:04:10.187 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-02-07 14:04:10.187 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-02-07 14:04:10.188 +01:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-02-07 14:04:10.188 +01:00 [DBG] Opened connection to database 'main' on server '/Users/iediong/Code/tutorials/csharp-projects/CityInfo/CityInfo.API/CityInfo.db'.
2024-02-07 14:04:10.188 +01:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-02-07 14:04:10.188 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-02-07 14:04:10.189 +01:00 [DBG] A data reader was disposed.
2024-02-07 14:04:10.189 +01:00 [DBG] Closing connection to database 'main' on server '/Users/iediong/Code/tutorials/csharp-projects/CityInfo/CityInfo.API/CityInfo.db'.
2024-02-07 14:04:10.189 +01:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-02-07 14:04:10.190 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-02-07 14:04:10.190 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-02-07 14:04:10.190 +01:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-02-07 14:04:10.190 +01:00 [DBG] Opened connection to database 'main' on server '/Users/iediong/Code/tutorials/csharp-projects/CityInfo/CityInfo.API/CityInfo.db'.
2024-02-07 14:04:10.190 +01:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointOfInterestId_1)
LIMIT 1
2024-02-07 14:04:10.191 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointOfInterestId_1)
LIMIT 1
2024-02-07 14:04:10.191 +01:00 [DBG] A data reader was disposed.
2024-02-07 14:04:10.191 +01:00 [DBG] Closing connection to database 'main' on server '/Users/iediong/Code/tutorials/csharp-projects/CityInfo/CityInfo.API/CityInfo.db'.
2024-02-07 14:04:10.191 +01:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-02-07 14:04:10.191 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-02-07 14:04:10.192 +01:00 [DBG] No information found on request to perform content negotiation.
2024-02-07 14:04:10.192 +01:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-02-07 14:04:10.192 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-02-07 14:04:10.192 +01:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2024-02-07 14:04:10.192 +01:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterestAsync (CityInfo.API) in 9.6481ms
2024-02-07 14:04:10.193 +01:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterestAsync (CityInfo.API)'
2024-02-07 14:04:10.193 +01:00 [DBG] Connection id "0HN17R3PNBID0" completed keep alive response.
2024-02-07 14:04:10.193 +01:00 [DBG] 'CityInfoContext' disposed.
2024-02-07 14:04:10.193 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7015/api/v2/cities/1/pointsofinterest/1 - - - 404 161 application/problem+json;+charset=utf-8 13.9240ms
2024-02-07 14:04:30.911 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5135/api/v2/cities/1/pointsofinterest/1 - -
2024-02-07 14:04:30.911 +01:00 [DBG] 1 candidate(s) found for the request path '/api/v2/cities/1/pointsofinterest/1'
2024-02-07 14:04:30.911 +01:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterestAsync (CityInfo.API)' with route pattern 'api/v{version:apiVersion}/cities/{cityId}/pointsofinterest/{pointofinterestid}' is valid for the request path '/api/v2/cities/1/pointsofinterest/1'
2024-02-07 14:04:30.912 +01:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterestAsync (CityInfo.API)'
2024-02-07 14:04:30.912 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-02-07 14:04:30.912 +01:00 [DBG] Redirecting to 'https://localhost:7015/api/v2/cities/1/pointsofinterest/1'.
2024-02-07 14:04:30.912 +01:00 [DBG] Connection id "0HN17R3PNBICU" completed keep alive response.
2024-02-07 14:04:30.912 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5135/api/v2/cities/1/pointsofinterest/1 - - - 307 0 - 1.5593ms
2024-02-07 14:04:30.914 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7015/api/v2/cities/1/pointsofinterest/1 - -
2024-02-07 14:04:30.914 +01:00 [DBG] 1 candidate(s) found for the request path '/api/v2/cities/1/pointsofinterest/1'
2024-02-07 14:04:30.914 +01:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterestAsync (CityInfo.API)' with route pattern 'api/v{version:apiVersion}/cities/{cityId}/pointsofinterest/{pointofinterestid}' is valid for the request path '/api/v2/cities/1/pointsofinterest/1'
2024-02-07 14:04:30.914 +01:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterestAsync (CityInfo.API)'
2024-02-07 14:04:30.916 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-02-07 14:04:30.916 +01:00 [DBG] Successfully validated the token.
2024-02-07 14:04:30.916 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-02-07 14:04:30.916 +01:00 [DBG] Authorization was successful.
2024-02-07 14:04:30.917 +01:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterestAsync (CityInfo.API)'
2024-02-07 14:04:30.917 +01:00 [INF] Route matched with {action = "GetPointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.PointOfInterestDto]] GetPointOfInterestAsync(Int32, Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2024-02-07 14:04:30.917 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-02-07 14:04:30.917 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-02-07 14:04:30.918 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-02-07 14:04:30.918 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-02-07 14:04:30.918 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-02-07 14:04:30.918 +01:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-02-07 14:04:30.919 +01:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-02-07 14:04:30.919 +01:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-02-07 14:04:30.920 +01:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-02-07 14:04:30.920 +01:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-02-07 14:04:30.920 +01:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-02-07 14:04:30.920 +01:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-02-07 14:04:30.921 +01:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-02-07 14:04:30.921 +01:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' ...
2024-02-07 14:04:30.921 +01:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' using the name 'pointOfInterestId' in request data ...
2024-02-07 14:04:30.921 +01:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2024-02-07 14:04:30.921 +01:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2024-02-07 14:04:30.921 +01:00 [DBG] Attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32' ...
2024-02-07 14:04:30.922 +01:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32'.
2024-02-07 14:04:30.922 +01:00 [INF] Entity Framework Core 6.0.19 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.19' with options: None
2024-02-07 14:04:30.923 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-02-07 14:04:30.923 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-02-07 14:04:30.923 +01:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-02-07 14:04:30.923 +01:00 [DBG] Opened connection to database 'main' on server '/Users/iediong/Code/tutorials/csharp-projects/CityInfo/CityInfo.API/CityInfo.db'.
2024-02-07 14:04:30.924 +01:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-02-07 14:04:30.924 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-02-07 14:04:30.924 +01:00 [DBG] A data reader was disposed.
2024-02-07 14:04:30.924 +01:00 [DBG] Closing connection to database 'main' on server '/Users/iediong/Code/tutorials/csharp-projects/CityInfo/CityInfo.API/CityInfo.db'.
2024-02-07 14:04:30.924 +01:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-02-07 14:04:30.925 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-02-07 14:04:30.925 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-02-07 14:04:30.925 +01:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-02-07 14:04:30.926 +01:00 [DBG] Opened connection to database 'main' on server '/Users/iediong/Code/tutorials/csharp-projects/CityInfo/CityInfo.API/CityInfo.db'.
2024-02-07 14:04:30.926 +01:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointOfInterestId_1)
LIMIT 1
2024-02-07 14:04:30.926 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointOfInterestId_1)
LIMIT 1
2024-02-07 14:04:30.927 +01:00 [DBG] A data reader was disposed.
2024-02-07 14:04:30.927 +01:00 [DBG] Closing connection to database 'main' on server '/Users/iediong/Code/tutorials/csharp-projects/CityInfo/CityInfo.API/CityInfo.db'.
2024-02-07 14:04:30.927 +01:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-02-07 14:04:30.927 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-02-07 14:04:30.927 +01:00 [DBG] No information found on request to perform content negotiation.
2024-02-07 14:04:30.927 +01:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-02-07 14:04:30.928 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-02-07 14:04:30.928 +01:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2024-02-07 14:04:30.928 +01:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterestAsync (CityInfo.API) in 9.796ms
2024-02-07 14:04:30.928 +01:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterestAsync (CityInfo.API)'
2024-02-07 14:04:30.928 +01:00 [DBG] Connection id "0HN17R3PNBID0" completed keep alive response.
2024-02-07 14:04:30.928 +01:00 [DBG] 'CityInfoContext' disposed.
2024-02-07 14:04:30.929 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7015/api/v2/cities/1/pointsofinterest/1 - - - 404 161 application/problem+json;+charset=utf-8 15.0349ms
2024-02-07 14:04:38.697 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5135/api/v2/cities/2/pointsofinterest/1 - -
2024-02-07 14:04:38.697 +01:00 [DBG] 1 candidate(s) found for the request path '/api/v2/cities/2/pointsofinterest/1'
2024-02-07 14:04:38.697 +01:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterestAsync (CityInfo.API)' with route pattern 'api/v{version:apiVersion}/cities/{cityId}/pointsofinterest/{pointofinterestid}' is valid for the request path '/api/v2/cities/2/pointsofinterest/1'
2024-02-07 14:04:38.698 +01:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterestAsync (CityInfo.API)'
2024-02-07 14:04:38.698 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-02-07 14:04:38.698 +01:00 [DBG] Redirecting to 'https://localhost:7015/api/v2/cities/2/pointsofinterest/1'.
2024-02-07 14:04:38.698 +01:00 [DBG] Connection id "0HN17R3PNBICU" completed keep alive response.
2024-02-07 14:04:38.698 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5135/api/v2/cities/2/pointsofinterest/1 - - - 307 0 - 1.4874ms
2024-02-07 14:04:38.699 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7015/api/v2/cities/2/pointsofinterest/1 - -
2024-02-07 14:04:38.700 +01:00 [DBG] 1 candidate(s) found for the request path '/api/v2/cities/2/pointsofinterest/1'
2024-02-07 14:04:38.700 +01:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterestAsync (CityInfo.API)' with route pattern 'api/v{version:apiVersion}/cities/{cityId}/pointsofinterest/{pointofinterestid}' is valid for the request path '/api/v2/cities/2/pointsofinterest/1'
2024-02-07 14:04:38.700 +01:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterestAsync (CityInfo.API)'
2024-02-07 14:04:38.700 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-02-07 14:04:38.702 +01:00 [DBG] Successfully validated the token.
2024-02-07 14:04:38.702 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-02-07 14:04:38.702 +01:00 [DBG] Authorization was successful.
2024-02-07 14:04:38.703 +01:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterestAsync (CityInfo.API)'
2024-02-07 14:04:38.703 +01:00 [INF] Route matched with {action = "GetPointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.PointOfInterestDto]] GetPointOfInterestAsync(Int32, Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2024-02-07 14:04:38.703 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-02-07 14:04:38.703 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-02-07 14:04:38.704 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-02-07 14:04:38.704 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-02-07 14:04:38.704 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-02-07 14:04:38.704 +01:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-02-07 14:04:38.705 +01:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-02-07 14:04:38.705 +01:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-02-07 14:04:38.706 +01:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-02-07 14:04:38.706 +01:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-02-07 14:04:38.706 +01:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-02-07 14:04:38.706 +01:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-02-07 14:04:38.707 +01:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-02-07 14:04:38.707 +01:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' ...
2024-02-07 14:04:38.707 +01:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' using the name 'pointOfInterestId' in request data ...
2024-02-07 14:04:38.707 +01:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2024-02-07 14:04:38.708 +01:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2024-02-07 14:04:38.708 +01:00 [DBG] Attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32' ...
2024-02-07 14:04:38.708 +01:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32'.
2024-02-07 14:04:38.709 +01:00 [INF] Entity Framework Core 6.0.19 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.19' with options: None
2024-02-07 14:04:38.709 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-02-07 14:04:38.709 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-02-07 14:04:38.710 +01:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-02-07 14:04:38.710 +01:00 [DBG] Opened connection to database 'main' on server '/Users/iediong/Code/tutorials/csharp-projects/CityInfo/CityInfo.API/CityInfo.db'.
2024-02-07 14:04:38.710 +01:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-02-07 14:04:38.710 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-02-07 14:04:38.711 +01:00 [DBG] A data reader was disposed.
2024-02-07 14:04:38.711 +01:00 [DBG] Closing connection to database 'main' on server '/Users/iediong/Code/tutorials/csharp-projects/CityInfo/CityInfo.API/CityInfo.db'.
2024-02-07 14:04:38.711 +01:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-02-07 14:04:38.711 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-02-07 14:04:38.712 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-02-07 14:04:38.712 +01:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-02-07 14:04:38.712 +01:00 [DBG] Opened connection to database 'main' on server '/Users/iediong/Code/tutorials/csharp-projects/CityInfo/CityInfo.API/CityInfo.db'.
2024-02-07 14:04:38.712 +01:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointOfInterestId_1)
LIMIT 1
2024-02-07 14:04:38.712 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointOfInterestId_1)
LIMIT 1
2024-02-07 14:04:38.713 +01:00 [DBG] A data reader was disposed.
2024-02-07 14:04:38.713 +01:00 [DBG] Closing connection to database 'main' on server '/Users/iediong/Code/tutorials/csharp-projects/CityInfo/CityInfo.API/CityInfo.db'.
2024-02-07 14:04:38.713 +01:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-02-07 14:04:38.713 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-02-07 14:04:38.713 +01:00 [DBG] No information found on request to perform content negotiation.
2024-02-07 14:04:38.713 +01:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-02-07 14:04:38.714 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-02-07 14:04:38.714 +01:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2024-02-07 14:04:38.714 +01:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterestAsync (CityInfo.API) in 9.6191ms
2024-02-07 14:04:38.714 +01:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterestAsync (CityInfo.API)'
2024-02-07 14:04:38.714 +01:00 [DBG] Connection id "0HN17R3PNBID0" completed keep alive response.
2024-02-07 14:04:38.714 +01:00 [DBG] 'CityInfoContext' disposed.
2024-02-07 14:04:38.714 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7015/api/v2/cities/2/pointsofinterest/1 - - - 404 161 application/problem+json;+charset=utf-8 15.0981ms
2024-02-07 14:04:54.181 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5135/api/v2/cities/2/pointsofinterest/2 - -
2024-02-07 14:04:54.181 +01:00 [DBG] 1 candidate(s) found for the request path '/api/v2/cities/2/pointsofinterest/2'
2024-02-07 14:04:54.181 +01:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterestAsync (CityInfo.API)' with route pattern 'api/v{version:apiVersion}/cities/{cityId}/pointsofinterest/{pointofinterestid}' is valid for the request path '/api/v2/cities/2/pointsofinterest/2'
2024-02-07 14:04:54.181 +01:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterestAsync (CityInfo.API)'
2024-02-07 14:04:54.181 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-02-07 14:04:54.181 +01:00 [DBG] Redirecting to 'https://localhost:7015/api/v2/cities/2/pointsofinterest/2'.
2024-02-07 14:04:54.182 +01:00 [DBG] Connection id "0HN17R3PNBICU" completed keep alive response.
2024-02-07 14:04:54.182 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5135/api/v2/cities/2/pointsofinterest/2 - - - 307 0 - 0.8019ms
2024-02-07 14:04:54.183 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7015/api/v2/cities/2/pointsofinterest/2 - -
2024-02-07 14:04:54.183 +01:00 [DBG] 1 candidate(s) found for the request path '/api/v2/cities/2/pointsofinterest/2'
2024-02-07 14:04:54.183 +01:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterestAsync (CityInfo.API)' with route pattern 'api/v{version:apiVersion}/cities/{cityId}/pointsofinterest/{pointofinterestid}' is valid for the request path '/api/v2/cities/2/pointsofinterest/2'
2024-02-07 14:04:54.183 +01:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterestAsync (CityInfo.API)'
2024-02-07 14:04:54.183 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-02-07 14:04:54.184 +01:00 [DBG] Successfully validated the token.
2024-02-07 14:04:54.184 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-02-07 14:04:54.185 +01:00 [DBG] Authorization was successful.
2024-02-07 14:04:54.185 +01:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterestAsync (CityInfo.API)'
2024-02-07 14:04:54.185 +01:00 [INF] Route matched with {action = "GetPointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.PointOfInterestDto]] GetPointOfInterestAsync(Int32, Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2024-02-07 14:04:54.185 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-02-07 14:04:54.185 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-02-07 14:04:54.185 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-02-07 14:04:54.186 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-02-07 14:04:54.186 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-02-07 14:04:54.186 +01:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-02-07 14:04:54.186 +01:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-02-07 14:04:54.187 +01:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-02-07 14:04:54.187 +01:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-02-07 14:04:54.187 +01:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-02-07 14:04:54.187 +01:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-02-07 14:04:54.187 +01:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-02-07 14:04:54.187 +01:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-02-07 14:04:54.187 +01:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' ...
2024-02-07 14:04:54.187 +01:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' using the name 'pointOfInterestId' in request data ...
2024-02-07 14:04:54.187 +01:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2024-02-07 14:04:54.187 +01:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2024-02-07 14:04:54.188 +01:00 [DBG] Attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32' ...
2024-02-07 14:04:54.188 +01:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32'.
2024-02-07 14:04:54.188 +01:00 [INF] Entity Framework Core 6.0.19 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.19' with options: None
2024-02-07 14:04:54.189 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-02-07 14:04:54.189 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-02-07 14:04:54.189 +01:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-02-07 14:04:54.189 +01:00 [DBG] Opened connection to database 'main' on server '/Users/iediong/Code/tutorials/csharp-projects/CityInfo/CityInfo.API/CityInfo.db'.
2024-02-07 14:04:54.189 +01:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-02-07 14:04:54.189 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-02-07 14:04:54.189 +01:00 [DBG] A data reader was disposed.
2024-02-07 14:04:54.190 +01:00 [DBG] Closing connection to database 'main' on server '/Users/iediong/Code/tutorials/csharp-projects/CityInfo/CityInfo.API/CityInfo.db'.
2024-02-07 14:04:54.190 +01:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-02-07 14:04:54.190 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-02-07 14:04:54.190 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-02-07 14:04:54.190 +01:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-02-07 14:04:54.190 +01:00 [DBG] Opened connection to database 'main' on server '/Users/iediong/Code/tutorials/csharp-projects/CityInfo/CityInfo.API/CityInfo.db'.
2024-02-07 14:04:54.190 +01:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointOfInterestId_1)
LIMIT 1
2024-02-07 14:04:54.191 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointOfInterestId_1)
LIMIT 1
2024-02-07 14:04:54.191 +01:00 [DBG] A data reader was disposed.
2024-02-07 14:04:54.191 +01:00 [DBG] Closing connection to database 'main' on server '/Users/iediong/Code/tutorials/csharp-projects/CityInfo/CityInfo.API/CityInfo.db'.
2024-02-07 14:04:54.191 +01:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-02-07 14:04:54.191 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-02-07 14:04:54.191 +01:00 [DBG] No information found on request to perform content negotiation.
2024-02-07 14:04:54.192 +01:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-02-07 14:04:54.192 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-02-07 14:04:54.192 +01:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2024-02-07 14:04:54.192 +01:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterestAsync (CityInfo.API) in 6.0011ms
2024-02-07 14:04:54.192 +01:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterestAsync (CityInfo.API)'
2024-02-07 14:04:54.192 +01:00 [DBG] Connection id "0HN17R3PNBID0" completed keep alive response.
2024-02-07 14:04:54.193 +01:00 [DBG] 'CityInfoContext' disposed.
2024-02-07 14:04:54.193 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7015/api/v2/cities/2/pointsofinterest/2 - - - 404 161 application/problem+json;+charset=utf-8 9.8216ms
2024-02-07 14:06:19.243 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5135/api/v2/cities/1/pointsofinterest/2 - -
2024-02-07 14:06:19.244 +01:00 [DBG] 1 candidate(s) found for the request path '/api/v2/cities/1/pointsofinterest/2'
2024-02-07 14:06:19.244 +01:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterestAsync (CityInfo.API)' with route pattern 'api/v{version:apiVersion}/cities/{cityId}/pointsofinterest/{pointofinterestid}' is valid for the request path '/api/v2/cities/1/pointsofinterest/2'
2024-02-07 14:06:19.244 +01:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterestAsync (CityInfo.API)'
2024-02-07 14:06:19.244 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-02-07 14:06:19.245 +01:00 [DBG] Redirecting to 'https://localhost:7015/api/v2/cities/1/pointsofinterest/2'.
2024-02-07 14:06:19.245 +01:00 [DBG] Connection id "0HN17R3PNBICU" completed keep alive response.
2024-02-07 14:06:19.245 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5135/api/v2/cities/1/pointsofinterest/2 - - - 307 0 - 2.2125ms
2024-02-07 14:06:19.249 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7015/api/v2/cities/1/pointsofinterest/2 - -
2024-02-07 14:06:19.250 +01:00 [DBG] 1 candidate(s) found for the request path '/api/v2/cities/1/pointsofinterest/2'
2024-02-07 14:06:19.250 +01:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterestAsync (CityInfo.API)' with route pattern 'api/v{version:apiVersion}/cities/{cityId}/pointsofinterest/{pointofinterestid}' is valid for the request path '/api/v2/cities/1/pointsofinterest/2'
2024-02-07 14:06:19.250 +01:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterestAsync (CityInfo.API)'
2024-02-07 14:06:19.250 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-02-07 14:06:19.251 +01:00 [DBG] Successfully validated the token.
2024-02-07 14:06:19.251 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-02-07 14:06:19.251 +01:00 [DBG] Authorization was successful.
2024-02-07 14:06:19.251 +01:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterestAsync (CityInfo.API)'
2024-02-07 14:06:19.252 +01:00 [INF] Route matched with {action = "GetPointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.PointOfInterestDto]] GetPointOfInterestAsync(Int32, Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2024-02-07 14:06:19.252 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-02-07 14:06:19.252 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-02-07 14:06:19.252 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-02-07 14:06:19.252 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-02-07 14:06:19.253 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-02-07 14:06:19.254 +01:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-02-07 14:06:19.255 +01:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-02-07 14:06:19.255 +01:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-02-07 14:06:19.255 +01:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-02-07 14:06:19.255 +01:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-02-07 14:06:19.256 +01:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-02-07 14:06:19.256 +01:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-02-07 14:06:19.256 +01:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-02-07 14:06:19.256 +01:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' ...
2024-02-07 14:06:19.256 +01:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' using the name 'pointOfInterestId' in request data ...
2024-02-07 14:06:19.257 +01:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2024-02-07 14:06:19.257 +01:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2024-02-07 14:06:19.257 +01:00 [DBG] Attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32' ...
2024-02-07 14:06:19.257 +01:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32'.
2024-02-07 14:06:19.258 +01:00 [INF] Entity Framework Core 6.0.19 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.19' with options: None
2024-02-07 14:06:19.259 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-02-07 14:06:19.259 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-02-07 14:06:19.259 +01:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-02-07 14:06:19.259 +01:00 [DBG] Opened connection to database 'main' on server '/Users/iediong/Code/tutorials/csharp-projects/CityInfo/CityInfo.API/CityInfo.db'.
2024-02-07 14:06:19.260 +01:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-02-07 14:06:19.260 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-02-07 14:06:19.260 +01:00 [DBG] A data reader was disposed.
2024-02-07 14:06:19.260 +01:00 [DBG] Closing connection to database 'main' on server '/Users/iediong/Code/tutorials/csharp-projects/CityInfo/CityInfo.API/CityInfo.db'.
2024-02-07 14:06:19.261 +01:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-02-07 14:06:19.261 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-02-07 14:06:19.261 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-02-07 14:06:19.261 +01:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-02-07 14:06:19.261 +01:00 [DBG] Opened connection to database 'main' on server '/Users/iediong/Code/tutorials/csharp-projects/CityInfo/CityInfo.API/CityInfo.db'.
2024-02-07 14:06:19.262 +01:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointOfInterestId_1)
LIMIT 1
2024-02-07 14:06:19.262 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointOfInterestId_1)
LIMIT 1
2024-02-07 14:06:19.308 +01:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-07 14:06:19.309 +01:00 [DBG] A data reader was disposed.
2024-02-07 14:06:19.309 +01:00 [DBG] Closing connection to database 'main' on server '/Users/iediong/Code/tutorials/csharp-projects/CityInfo/CityInfo.API/CityInfo.db'.
2024-02-07 14:06:19.309 +01:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-02-07 14:06:19.313 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-02-07 14:06:19.313 +01:00 [DBG] No information found on request to perform content negotiation.
2024-02-07 14:06:19.313 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-02-07 14:06:19.314 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-02-07 14:06:19.314 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-02-07 14:06:19.314 +01:00 [INF] Executing OkObjectResult, writing value of type 'CityInfo.API.Models.PointOfInterestDto'.
2024-02-07 14:06:19.314 +01:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterestAsync (CityInfo.API) in 60.4465ms
2024-02-07 14:06:19.315 +01:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterestAsync (CityInfo.API)'
2024-02-07 14:06:19.315 +01:00 [DBG] Connection id "0HN17R3PNBID0" completed keep alive response.
2024-02-07 14:06:19.315 +01:00 [DBG] 'CityInfoContext' disposed.
2024-02-07 14:06:19.315 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7015/api/v2/cities/1/pointsofinterest/2 - - - 200 108 application/json;+charset=utf-8 65.7382ms
2024-02-07 14:06:38.245 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5135/api/v2/cities/2/pointsofinterest/2 - -
2024-02-07 14:06:38.245 +01:00 [DBG] 1 candidate(s) found for the request path '/api/v2/cities/2/pointsofinterest/2'
2024-02-07 14:06:38.245 +01:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterestAsync (CityInfo.API)' with route pattern 'api/v{version:apiVersion}/cities/{cityId}/pointsofinterest/{pointofinterestid}' is valid for the request path '/api/v2/cities/2/pointsofinterest/2'
2024-02-07 14:06:38.245 +01:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterestAsync (CityInfo.API)'
2024-02-07 14:06:38.245 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-02-07 14:06:38.246 +01:00 [DBG] Redirecting to 'https://localhost:7015/api/v2/cities/2/pointsofinterest/2'.
2024-02-07 14:06:38.246 +01:00 [DBG] Connection id "0HN17R3PNBICU" completed keep alive response.
2024-02-07 14:06:38.246 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5135/api/v2/cities/2/pointsofinterest/2 - - - 307 0 - 0.8755ms
2024-02-07 14:06:38.247 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7015/api/v2/cities/2/pointsofinterest/2 - -
2024-02-07 14:06:38.247 +01:00 [DBG] 1 candidate(s) found for the request path '/api/v2/cities/2/pointsofinterest/2'
2024-02-07 14:06:38.247 +01:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterestAsync (CityInfo.API)' with route pattern 'api/v{version:apiVersion}/cities/{cityId}/pointsofinterest/{pointofinterestid}' is valid for the request path '/api/v2/cities/2/pointsofinterest/2'
2024-02-07 14:06:38.247 +01:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterestAsync (CityInfo.API)'
2024-02-07 14:06:38.247 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-02-07 14:06:38.248 +01:00 [DBG] Successfully validated the token.
2024-02-07 14:06:38.248 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-02-07 14:06:38.248 +01:00 [DBG] Authorization was successful.
2024-02-07 14:06:38.248 +01:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterestAsync (CityInfo.API)'
2024-02-07 14:06:38.249 +01:00 [INF] Route matched with {action = "GetPointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.PointOfInterestDto]] GetPointOfInterestAsync(Int32, Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2024-02-07 14:06:38.249 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-02-07 14:06:38.249 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-02-07 14:06:38.249 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-02-07 14:06:38.249 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-02-07 14:06:38.249 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-02-07 14:06:38.249 +01:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-02-07 14:06:38.250 +01:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-02-07 14:06:38.250 +01:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-02-07 14:06:38.250 +01:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-02-07 14:06:38.250 +01:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-02-07 14:06:38.250 +01:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-02-07 14:06:38.250 +01:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-02-07 14:06:38.250 +01:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-02-07 14:06:38.250 +01:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' ...
2024-02-07 14:06:38.250 +01:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' using the name 'pointOfInterestId' in request data ...
2024-02-07 14:06:38.251 +01:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2024-02-07 14:06:38.251 +01:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2024-02-07 14:06:38.251 +01:00 [DBG] Attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32' ...
2024-02-07 14:06:38.251 +01:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32'.
2024-02-07 14:06:38.251 +01:00 [INF] Entity Framework Core 6.0.19 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.19' with options: None
2024-02-07 14:06:38.252 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-02-07 14:06:38.252 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-02-07 14:06:38.252 +01:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-02-07 14:06:38.252 +01:00 [DBG] Opened connection to database 'main' on server '/Users/iediong/Code/tutorials/csharp-projects/CityInfo/CityInfo.API/CityInfo.db'.
2024-02-07 14:06:38.252 +01:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-02-07 14:06:38.252 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-02-07 14:06:38.253 +01:00 [DBG] A data reader was disposed.
2024-02-07 14:06:38.253 +01:00 [DBG] Closing connection to database 'main' on server '/Users/iediong/Code/tutorials/csharp-projects/CityInfo/CityInfo.API/CityInfo.db'.
2024-02-07 14:06:38.253 +01:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-02-07 14:06:38.253 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-02-07 14:06:38.253 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-02-07 14:06:38.253 +01:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-02-07 14:06:38.253 +01:00 [DBG] Opened connection to database 'main' on server '/Users/iediong/Code/tutorials/csharp-projects/CityInfo/CityInfo.API/CityInfo.db'.
2024-02-07 14:06:38.253 +01:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointOfInterestId_1)
LIMIT 1
2024-02-07 14:06:38.254 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointOfInterestId_1)
LIMIT 1
2024-02-07 14:06:38.254 +01:00 [DBG] A data reader was disposed.
2024-02-07 14:06:38.254 +01:00 [DBG] Closing connection to database 'main' on server '/Users/iediong/Code/tutorials/csharp-projects/CityInfo/CityInfo.API/CityInfo.db'.
2024-02-07 14:06:38.254 +01:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-02-07 14:06:38.254 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-02-07 14:06:38.254 +01:00 [DBG] No information found on request to perform content negotiation.
2024-02-07 14:06:38.254 +01:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-02-07 14:06:38.254 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-02-07 14:06:38.255 +01:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2024-02-07 14:06:38.255 +01:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterestAsync (CityInfo.API) in 5.519ms
2024-02-07 14:06:38.255 +01:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterestAsync (CityInfo.API)'
2024-02-07 14:06:38.255 +01:00 [DBG] Connection id "0HN17R3PNBID0" completed keep alive response.
2024-02-07 14:06:38.255 +01:00 [DBG] 'CityInfoContext' disposed.
2024-02-07 14:06:38.255 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7015/api/v2/cities/2/pointsofinterest/2 - - - 404 161 application/problem+json;+charset=utf-8 8.4569ms
2024-02-07 14:06:44.021 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5135/api/v2/cities/2/pointsofinterest/3 - -
2024-02-07 14:06:44.021 +01:00 [DBG] 1 candidate(s) found for the request path '/api/v2/cities/2/pointsofinterest/3'
2024-02-07 14:06:44.021 +01:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterestAsync (CityInfo.API)' with route pattern 'api/v{version:apiVersion}/cities/{cityId}/pointsofinterest/{pointofinterestid}' is valid for the request path '/api/v2/cities/2/pointsofinterest/3'
2024-02-07 14:06:44.022 +01:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterestAsync (CityInfo.API)'
2024-02-07 14:06:44.022 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-02-07 14:06:44.022 +01:00 [DBG] Redirecting to 'https://localhost:7015/api/v2/cities/2/pointsofinterest/3'.
2024-02-07 14:06:44.022 +01:00 [DBG] Connection id "0HN17R3PNBICU" completed keep alive response.
2024-02-07 14:06:44.022 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5135/api/v2/cities/2/pointsofinterest/3 - - - 307 0 - 0.9531ms
2024-02-07 14:06:44.023 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7015/api/v2/cities/2/pointsofinterest/3 - -
2024-02-07 14:06:44.023 +01:00 [DBG] 1 candidate(s) found for the request path '/api/v2/cities/2/pointsofinterest/3'
2024-02-07 14:06:44.023 +01:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterestAsync (CityInfo.API)' with route pattern 'api/v{version:apiVersion}/cities/{cityId}/pointsofinterest/{pointofinterestid}' is valid for the request path '/api/v2/cities/2/pointsofinterest/3'
2024-02-07 14:06:44.023 +01:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterestAsync (CityInfo.API)'
2024-02-07 14:06:44.023 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-02-07 14:06:44.024 +01:00 [DBG] Successfully validated the token.
2024-02-07 14:06:44.024 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-02-07 14:06:44.024 +01:00 [DBG] Authorization was successful.
2024-02-07 14:06:44.024 +01:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterestAsync (CityInfo.API)'
2024-02-07 14:06:44.025 +01:00 [INF] Route matched with {action = "GetPointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.PointOfInterestDto]] GetPointOfInterestAsync(Int32, Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2024-02-07 14:06:44.025 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-02-07 14:06:44.025 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-02-07 14:06:44.025 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-02-07 14:06:44.025 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-02-07 14:06:44.025 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-02-07 14:06:44.025 +01:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-02-07 14:06:44.026 +01:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-02-07 14:06:44.026 +01:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-02-07 14:06:44.026 +01:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-02-07 14:06:44.027 +01:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-02-07 14:06:44.027 +01:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-02-07 14:06:44.027 +01:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-02-07 14:06:44.027 +01:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-02-07 14:06:44.027 +01:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' ...
2024-02-07 14:06:44.027 +01:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' using the name 'pointOfInterestId' in request data ...
2024-02-07 14:06:44.027 +01:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2024-02-07 14:06:44.028 +01:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2024-02-07 14:06:44.028 +01:00 [DBG] Attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32' ...
2024-02-07 14:06:44.028 +01:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32'.
2024-02-07 14:06:44.028 +01:00 [INF] Entity Framework Core 6.0.19 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.19' with options: None
2024-02-07 14:06:44.029 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-02-07 14:06:44.029 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-02-07 14:06:44.029 +01:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-02-07 14:06:44.029 +01:00 [DBG] Opened connection to database 'main' on server '/Users/iediong/Code/tutorials/csharp-projects/CityInfo/CityInfo.API/CityInfo.db'.
2024-02-07 14:06:44.029 +01:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-02-07 14:06:44.029 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-02-07 14:06:44.029 +01:00 [DBG] A data reader was disposed.
2024-02-07 14:06:44.030 +01:00 [DBG] Closing connection to database 'main' on server '/Users/iediong/Code/tutorials/csharp-projects/CityInfo/CityInfo.API/CityInfo.db'.
2024-02-07 14:06:44.030 +01:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-02-07 14:06:44.030 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-02-07 14:06:44.030 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-02-07 14:06:44.030 +01:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-02-07 14:06:44.030 +01:00 [DBG] Opened connection to database 'main' on server '/Users/iediong/Code/tutorials/csharp-projects/CityInfo/CityInfo.API/CityInfo.db'.
2024-02-07 14:06:44.030 +01:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointOfInterestId_1)
LIMIT 1
2024-02-07 14:06:44.030 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointOfInterestId_1)
LIMIT 1
2024-02-07 14:06:44.031 +01:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-07 14:06:44.031 +01:00 [DBG] A data reader was disposed.
2024-02-07 14:06:44.031 +01:00 [DBG] Closing connection to database 'main' on server '/Users/iediong/Code/tutorials/csharp-projects/CityInfo/CityInfo.API/CityInfo.db'.
2024-02-07 14:06:44.031 +01:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-02-07 14:06:44.031 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-02-07 14:06:44.031 +01:00 [DBG] No information found on request to perform content negotiation.
2024-02-07 14:06:44.031 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-02-07 14:06:44.031 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-02-07 14:06:44.031 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-02-07 14:06:44.032 +01:00 [INF] Executing OkObjectResult, writing value of type 'CityInfo.API.Models.PointOfInterestDto'.
2024-02-07 14:06:44.032 +01:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterestAsync (CityInfo.API) in 6.4818ms
2024-02-07 14:06:44.032 +01:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterestAsync (CityInfo.API)'
2024-02-07 14:06:44.032 +01:00 [DBG] Connection id "0HN17R3PNBID0" completed keep alive response.
2024-02-07 14:06:44.032 +01:00 [DBG] 'CityInfoContext' disposed.
2024-02-07 14:06:44.032 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7015/api/v2/cities/2/pointsofinterest/3 - - - 200 131 application/json;+charset=utf-8 9.3525ms
2024-02-07 14:07:11.835 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5135/api/cities/4/pointsofinterest/1 - -
2024-02-07 14:07:11.836 +01:00 [DBG] No candidates found for the request path '/api/cities/4/pointsofinterest/1'
2024-02-07 14:07:11.836 +01:00 [DBG] Request did not match any endpoints
2024-02-07 14:07:11.837 +01:00 [DBG] The request path  does not match the path filter
2024-02-07 14:07:11.837 +01:00 [DBG] Redirecting to 'https://localhost:7015/api/cities/4/pointsofinterest/1'.
2024-02-07 14:07:11.837 +01:00 [DBG] Connection id "0HN17R3PNBICU" completed keep alive response.
2024-02-07 14:07:11.837 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5135/api/cities/4/pointsofinterest/1 - - - 307 0 - 2.1262ms
2024-02-07 14:07:11.839 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7015/api/cities/4/pointsofinterest/1 - -
2024-02-07 14:07:11.839 +01:00 [DBG] No candidates found for the request path '/api/cities/4/pointsofinterest/1'
2024-02-07 14:07:11.839 +01:00 [DBG] Request did not match any endpoints
2024-02-07 14:07:11.840 +01:00 [DBG] The request path  does not match the path filter
2024-02-07 14:07:11.840 +01:00 [DBG] Successfully validated the token.
2024-02-07 14:07:11.840 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-02-07 14:07:11.840 +01:00 [DBG] Connection id "0HN17R3PNBID0" completed keep alive response.
2024-02-07 14:07:11.841 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7015/api/cities/4/pointsofinterest/1 - - - 404 0 - 1.4858ms
2024-02-07 14:07:31.866 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5135/api/v1/cities/4/pointsofinterest/1 - -
2024-02-07 14:07:31.867 +01:00 [DBG] 1 candidate(s) found for the request path '/api/v1/cities/4/pointsofinterest/1'
2024-02-07 14:07:31.867 +01:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterestAsync (CityInfo.API)' with route pattern 'api/v{version:apiVersion}/cities/{cityId}/pointsofinterest/{pointofinterestid}' is valid for the request path '/api/v1/cities/4/pointsofinterest/1'
2024-02-07 14:07:31.867 +01:00 [INF] Multiple candidate actions were found, but none matched the requested service API version '1'. Candidate actions: CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterestAsync (CityInfo.API)
2024-02-07 14:07:31.868 +01:00 [DBG] Request matched endpoint 'null'
2024-02-07 14:07:31.868 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-02-07 14:07:31.868 +01:00 [DBG] Redirecting to 'https://localhost:7015/api/v1/cities/4/pointsofinterest/1'.
2024-02-07 14:07:31.868 +01:00 [DBG] Connection id "0HN17R3PNBICU" completed keep alive response.
2024-02-07 14:07:31.868 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5135/api/v1/cities/4/pointsofinterest/1 - - - 307 0 - 2.2273ms
2024-02-07 14:07:31.869 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7015/api/v1/cities/4/pointsofinterest/1 - -
2024-02-07 14:07:31.869 +01:00 [DBG] 1 candidate(s) found for the request path '/api/v1/cities/4/pointsofinterest/1'
2024-02-07 14:07:31.870 +01:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterestAsync (CityInfo.API)' with route pattern 'api/v{version:apiVersion}/cities/{cityId}/pointsofinterest/{pointofinterestid}' is valid for the request path '/api/v1/cities/4/pointsofinterest/1'
2024-02-07 14:07:31.870 +01:00 [INF] Multiple candidate actions were found, but none matched the requested service API version '1'. Candidate actions: CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterestAsync (CityInfo.API)
2024-02-07 14:07:31.870 +01:00 [DBG] Request matched endpoint 'null'
2024-02-07 14:07:31.871 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-02-07 14:07:31.871 +01:00 [DBG] Successfully validated the token.
2024-02-07 14:07:31.872 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-02-07 14:07:31.872 +01:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Http.Endpoint'
2024-02-07 14:07:31.873 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-02-07 14:07:31.873 +01:00 [DBG] No information found on request to perform content negotiation.
2024-02-07 14:07:31.874 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-02-07 14:07:31.874 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-02-07 14:07:31.874 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-02-07 14:07:31.874 +01:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType0`1[[<>f__AnonymousType1`3[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType2`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], Microsoft.AspNetCore.Mvc.Versioning, Version=5.1.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60]], Microsoft.AspNetCore.Mvc.Versioning, Version=5.1.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60]]'.
2024-02-07 14:07:31.875 +01:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Http.Endpoint'
2024-02-07 14:07:31.875 +01:00 [DBG] Connection id "0HN17R3PNBID0" completed keep alive response.
2024-02-07 14:07:31.875 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7015/api/v1/cities/4/pointsofinterest/1 - - - 400 217 application/json;+charset=utf-8 5.5790ms
2024-02-07 14:07:42.518 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5135/api/v2/cities/4/pointsofinterest/1 - -
2024-02-07 14:07:42.519 +01:00 [DBG] 1 candidate(s) found for the request path '/api/v2/cities/4/pointsofinterest/1'
2024-02-07 14:07:42.519 +01:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterestAsync (CityInfo.API)' with route pattern 'api/v{version:apiVersion}/cities/{cityId}/pointsofinterest/{pointofinterestid}' is valid for the request path '/api/v2/cities/4/pointsofinterest/1'
2024-02-07 14:07:42.519 +01:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterestAsync (CityInfo.API)'
2024-02-07 14:07:42.519 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-02-07 14:07:42.520 +01:00 [DBG] Redirecting to 'https://localhost:7015/api/v2/cities/4/pointsofinterest/1'.
2024-02-07 14:07:42.520 +01:00 [DBG] Connection id "0HN17R3PNBICU" completed keep alive response.
2024-02-07 14:07:42.520 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5135/api/v2/cities/4/pointsofinterest/1 - - - 307 0 - 1.4652ms
2024-02-07 14:07:42.521 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7015/api/v2/cities/4/pointsofinterest/1 - -
2024-02-07 14:07:42.521 +01:00 [DBG] 1 candidate(s) found for the request path '/api/v2/cities/4/pointsofinterest/1'
2024-02-07 14:07:42.521 +01:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterestAsync (CityInfo.API)' with route pattern 'api/v{version:apiVersion}/cities/{cityId}/pointsofinterest/{pointofinterestid}' is valid for the request path '/api/v2/cities/4/pointsofinterest/1'
2024-02-07 14:07:42.522 +01:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterestAsync (CityInfo.API)'
2024-02-07 14:07:42.522 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-02-07 14:07:42.523 +01:00 [DBG] Successfully validated the token.
2024-02-07 14:07:42.523 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-02-07 14:07:42.523 +01:00 [DBG] Authorization was successful.
2024-02-07 14:07:42.523 +01:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterestAsync (CityInfo.API)'
2024-02-07 14:07:42.526 +01:00 [INF] Route matched with {action = "GetPointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.PointOfInterestDto]] GetPointOfInterestAsync(Int32, Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2024-02-07 14:07:42.526 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-02-07 14:07:42.526 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-02-07 14:07:42.527 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-02-07 14:07:42.527 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-02-07 14:07:42.527 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-02-07 14:07:42.528 +01:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-02-07 14:07:42.528 +01:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-02-07 14:07:42.528 +01:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-02-07 14:07:42.528 +01:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-02-07 14:07:42.528 +01:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-02-07 14:07:42.529 +01:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-02-07 14:07:42.529 +01:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-02-07 14:07:42.529 +01:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-02-07 14:07:42.529 +01:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' ...
2024-02-07 14:07:42.529 +01:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' using the name 'pointOfInterestId' in request data ...
2024-02-07 14:07:42.529 +01:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2024-02-07 14:07:42.530 +01:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2024-02-07 14:07:42.530 +01:00 [DBG] Attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32' ...
2024-02-07 14:07:42.530 +01:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32'.
2024-02-07 14:07:42.531 +01:00 [INF] Entity Framework Core 6.0.19 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.19' with options: None
2024-02-07 14:07:42.531 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-02-07 14:07:42.532 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-02-07 14:07:42.536 +01:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-02-07 14:07:42.536 +01:00 [DBG] Opened connection to database 'main' on server '/Users/iediong/Code/tutorials/csharp-projects/CityInfo/CityInfo.API/CityInfo.db'.
2024-02-07 14:07:42.536 +01:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-02-07 14:07:42.536 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-02-07 14:07:42.537 +01:00 [DBG] A data reader was disposed.
2024-02-07 14:07:42.537 +01:00 [DBG] Closing connection to database 'main' on server '/Users/iediong/Code/tutorials/csharp-projects/CityInfo/CityInfo.API/CityInfo.db'.
2024-02-07 14:07:42.537 +01:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-02-07 14:07:42.537 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-02-07 14:07:42.537 +01:00 [DBG] No information found on request to perform content negotiation.
2024-02-07 14:07:42.538 +01:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-02-07 14:07:42.538 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-02-07 14:07:42.538 +01:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2024-02-07 14:07:42.538 +01:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterestAsync (CityInfo.API) in 10.721ms
2024-02-07 14:07:42.538 +01:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterestAsync (CityInfo.API)'
2024-02-07 14:07:42.538 +01:00 [DBG] Connection id "0HN17R3PNBID0" completed keep alive response.
2024-02-07 14:07:42.538 +01:00 [DBG] 'CityInfoContext' disposed.
2024-02-07 14:07:42.539 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7015/api/v2/cities/4/pointsofinterest/1 - - - 404 161 application/problem+json;+charset=utf-8 17.5094ms
2024-02-07 14:08:42.639 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5135/api/v2/cities/1/pointsofinterest/10 - -
2024-02-07 14:08:42.639 +01:00 [DBG] 1 candidate(s) found for the request path '/api/v2/cities/1/pointsofinterest/10'
2024-02-07 14:08:42.640 +01:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterestAsync (CityInfo.API)' with route pattern 'api/v{version:apiVersion}/cities/{cityId}/pointsofinterest/{pointofinterestid}' is valid for the request path '/api/v2/cities/1/pointsofinterest/10'
2024-02-07 14:08:42.640 +01:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterestAsync (CityInfo.API)'
2024-02-07 14:08:42.640 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-02-07 14:08:42.640 +01:00 [DBG] Redirecting to 'https://localhost:7015/api/v2/cities/1/pointsofinterest/10'.
2024-02-07 14:08:42.640 +01:00 [DBG] Connection id "0HN17R3PNBICU" completed keep alive response.
2024-02-07 14:08:42.641 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5135/api/v2/cities/1/pointsofinterest/10 - - - 307 0 - 1.6884ms
2024-02-07 14:08:42.642 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7015/api/v2/cities/1/pointsofinterest/10 - -
2024-02-07 14:08:42.643 +01:00 [DBG] 1 candidate(s) found for the request path '/api/v2/cities/1/pointsofinterest/10'
2024-02-07 14:08:42.643 +01:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterestAsync (CityInfo.API)' with route pattern 'api/v{version:apiVersion}/cities/{cityId}/pointsofinterest/{pointofinterestid}' is valid for the request path '/api/v2/cities/1/pointsofinterest/10'
2024-02-07 14:08:42.643 +01:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterestAsync (CityInfo.API)'
2024-02-07 14:08:42.643 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-02-07 14:08:42.643 +01:00 [DBG] Successfully validated the token.
2024-02-07 14:08:42.643 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-02-07 14:08:42.644 +01:00 [DBG] Authorization was successful.
2024-02-07 14:08:42.644 +01:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterestAsync (CityInfo.API)'
2024-02-07 14:08:42.644 +01:00 [INF] Route matched with {action = "GetPointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.PointOfInterestDto]] GetPointOfInterestAsync(Int32, Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2024-02-07 14:08:42.644 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-02-07 14:08:42.644 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-02-07 14:08:42.644 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-02-07 14:08:42.645 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-02-07 14:08:42.645 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-02-07 14:08:42.646 +01:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-02-07 14:08:42.646 +01:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-02-07 14:08:42.646 +01:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-02-07 14:08:42.647 +01:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-02-07 14:08:42.647 +01:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-02-07 14:08:42.647 +01:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-02-07 14:08:42.647 +01:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-02-07 14:08:42.647 +01:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-02-07 14:08:42.648 +01:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' ...
2024-02-07 14:08:42.648 +01:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' using the name 'pointOfInterestId' in request data ...
2024-02-07 14:08:42.648 +01:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2024-02-07 14:08:42.648 +01:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2024-02-07 14:08:42.648 +01:00 [DBG] Attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32' ...
2024-02-07 14:08:42.649 +01:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32'.
2024-02-07 14:08:42.649 +01:00 [INF] Entity Framework Core 6.0.19 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.19' with options: None
2024-02-07 14:08:42.650 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-02-07 14:08:42.650 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-02-07 14:08:42.650 +01:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-02-07 14:08:42.650 +01:00 [DBG] Opened connection to database 'main' on server '/Users/iediong/Code/tutorials/csharp-projects/CityInfo/CityInfo.API/CityInfo.db'.
2024-02-07 14:08:42.651 +01:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-02-07 14:08:42.651 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-02-07 14:08:42.651 +01:00 [DBG] A data reader was disposed.
2024-02-07 14:08:42.651 +01:00 [DBG] Closing connection to database 'main' on server '/Users/iediong/Code/tutorials/csharp-projects/CityInfo/CityInfo.API/CityInfo.db'.
2024-02-07 14:08:42.651 +01:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-02-07 14:08:42.652 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-02-07 14:08:42.652 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-02-07 14:08:42.652 +01:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-02-07 14:08:42.652 +01:00 [DBG] Opened connection to database 'main' on server '/Users/iediong/Code/tutorials/csharp-projects/CityInfo/CityInfo.API/CityInfo.db'.
2024-02-07 14:08:42.652 +01:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointOfInterestId_1)
LIMIT 1
2024-02-07 14:08:42.653 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointOfInterestId_1)
LIMIT 1
2024-02-07 14:08:42.653 +01:00 [DBG] A data reader was disposed.
2024-02-07 14:08:42.653 +01:00 [DBG] Closing connection to database 'main' on server '/Users/iediong/Code/tutorials/csharp-projects/CityInfo/CityInfo.API/CityInfo.db'.
2024-02-07 14:08:42.653 +01:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-02-07 14:08:42.653 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-02-07 14:08:42.653 +01:00 [DBG] No information found on request to perform content negotiation.
2024-02-07 14:08:42.653 +01:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-02-07 14:08:42.654 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-02-07 14:08:42.654 +01:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2024-02-07 14:08:42.654 +01:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterestAsync (CityInfo.API) in 8.4522ms
2024-02-07 14:08:42.654 +01:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterestAsync (CityInfo.API)'
2024-02-07 14:08:42.654 +01:00 [DBG] Connection id "0HN17R3PNBID0" completed keep alive response.
2024-02-07 14:08:42.654 +01:00 [DBG] 'CityInfoContext' disposed.
2024-02-07 14:08:42.654 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7015/api/v2/cities/1/pointsofinterest/10 - - - 404 161 application/problem+json;+charset=utf-8 12.0951ms
2024-02-07 14:09:23.584 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5135/api/v2/cities - -
2024-02-07 14:09:23.585 +01:00 [DBG] 1 candidate(s) found for the request path '/api/v2/cities'
2024-02-07 14:09:23.585 +01:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/v{version:apiVersion}/Cities' is valid for the request path '/api/v2/cities'
2024-02-07 14:09:23.585 +01:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-02-07 14:09:23.585 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-02-07 14:09:23.585 +01:00 [DBG] Redirecting to 'https://localhost:7015/api/v2/cities'.
2024-02-07 14:09:23.585 +01:00 [DBG] Connection id "0HN17R3PNBICU" completed keep alive response.
2024-02-07 14:09:23.586 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5135/api/v2/cities - - - 307 0 - 1.9920ms
2024-02-07 14:09:23.586 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7015/api/v2/cities - -
2024-02-07 14:09:23.587 +01:00 [DBG] 1 candidate(s) found for the request path '/api/v2/cities'
2024-02-07 14:09:23.587 +01:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/v{version:apiVersion}/Cities' is valid for the request path '/api/v2/cities'
2024-02-07 14:09:23.587 +01:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-02-07 14:09:23.587 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-02-07 14:09:23.587 +01:00 [DBG] Successfully validated the token.
2024-02-07 14:09:23.587 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-02-07 14:09:23.587 +01:00 [DBG] Authorization was successful.
2024-02-07 14:09:23.588 +01:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-02-07 14:09:23.588 +01:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointsOfInterestDto]]] GetCities(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-02-07 14:09:23.588 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-02-07 14:09:23.588 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-02-07 14:09:23.588 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-02-07 14:09:23.588 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-02-07 14:09:23.588 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-02-07 14:09:23.589 +01:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-02-07 14:09:23.589 +01:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-02-07 14:09:23.589 +01:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2024-02-07 14:09:23.589 +01:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2024-02-07 14:09:23.589 +01:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2024-02-07 14:09:23.589 +01:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2024-02-07 14:09:23.589 +01:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2024-02-07 14:09:23.589 +01:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2024-02-07 14:09:23.589 +01:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2024-02-07 14:09:23.590 +01:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2024-02-07 14:09:23.590 +01:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name '' in request data ...
2024-02-07 14:09:23.590 +01:00 [DBG] Could not find a value in the request with name '' for binding parameter 'searchQuery' of type 'System.String'.
2024-02-07 14:09:23.590 +01:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2024-02-07 14:09:23.590 +01:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2024-02-07 14:09:23.590 +01:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2024-02-07 14:09:23.590 +01:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2024-02-07 14:09:23.590 +01:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2024-02-07 14:09:23.590 +01:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name '' in request data ...
2024-02-07 14:09:23.591 +01:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageNumber' of type 'System.Int32'.
2024-02-07 14:09:23.591 +01:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2024-02-07 14:09:23.591 +01:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2024-02-07 14:09:23.591 +01:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2024-02-07 14:09:23.591 +01:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2024-02-07 14:09:23.591 +01:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2024-02-07 14:09:23.591 +01:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name '' in request data ...
2024-02-07 14:09:23.591 +01:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageSize' of type 'System.Int32'.
2024-02-07 14:09:23.591 +01:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2024-02-07 14:09:23.591 +01:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2024-02-07 14:09:23.591 +01:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2024-02-07 14:09:23.591 +01:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2024-02-07 14:09:23.592 +01:00 [INF] Entity Framework Core 6.0.19 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.19' with options: None
2024-02-07 14:09:23.593 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-02-07 14:09:23.593 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-02-07 14:09:23.593 +01:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-02-07 14:09:23.593 +01:00 [DBG] Opened connection to database 'main' on server '/Users/iediong/Code/tutorials/csharp-projects/CityInfo/CityInfo.API/CityInfo.db'.
2024-02-07 14:09:23.593 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2024-02-07 14:09:23.593 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2024-02-07 14:09:23.593 +01:00 [DBG] A data reader was disposed.
2024-02-07 14:09:23.594 +01:00 [DBG] Closing connection to database 'main' on server '/Users/iediong/Code/tutorials/csharp-projects/CityInfo/CityInfo.API/CityInfo.db'.
2024-02-07 14:09:23.594 +01:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-02-07 14:09:23.594 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-02-07 14:09:23.594 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-02-07 14:09:23.594 +01:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-02-07 14:09:23.594 +01:00 [DBG] Opened connection to database 'main' on server '/Users/iediong/Code/tutorials/csharp-projects/CityInfo/CityInfo.API/CityInfo.db'.
2024-02-07 14:09:23.594 +01:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
LIMIT @__p_1 OFFSET @__p_0
2024-02-07 14:09:23.595 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
LIMIT @__p_1 OFFSET @__p_0
2024-02-07 14:09:23.595 +01:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-07 14:09:23.595 +01:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-07 14:09:23.595 +01:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-07 14:09:23.595 +01:00 [DBG] A data reader was disposed.
2024-02-07 14:09:23.595 +01:00 [DBG] Closing connection to database 'main' on server '/Users/iediong/Code/tutorials/csharp-projects/CityInfo/CityInfo.API/CityInfo.db'.
2024-02-07 14:09:23.595 +01:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-02-07 14:09:23.596 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-02-07 14:09:23.596 +01:00 [DBG] Attempting to select an output formatter based on Accept header '["application/xml"]'.
2024-02-07 14:09:23.596 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter' and content type 'application/xml' to write the response.
2024-02-07 14:09:23.596 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointsOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-02-07 14:09:23.606 +01:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 17.8304ms
2024-02-07 14:09:23.607 +01:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-02-07 14:09:23.607 +01:00 [DBG] Connection id "0HN17R3PNBID0" completed keep alive response.
2024-02-07 14:09:23.607 +01:00 [DBG] 'CityInfoContext' disposed.
2024-02-07 14:09:23.607 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7015/api/v2/cities - - - 200 682 application/xml;+charset=utf-8 20.4085ms
2024-02-07 14:09:58.576 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5135/api/v1/files/1 - -
2024-02-07 14:09:58.576 +01:00 [DBG] No candidates found for the request path '/api/v1/files/1'
2024-02-07 14:09:58.576 +01:00 [DBG] Request did not match any endpoints
2024-02-07 14:09:58.577 +01:00 [DBG] The request path  does not match the path filter
2024-02-07 14:09:58.577 +01:00 [DBG] Redirecting to 'https://localhost:7015/api/v1/files/1'.
2024-02-07 14:09:58.577 +01:00 [DBG] Connection id "0HN17R3PNBICU" completed keep alive response.
2024-02-07 14:09:58.577 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5135/api/v1/files/1 - - - 307 0 - 1.0707ms
2024-02-07 14:09:58.578 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7015/api/v1/files/1 - -
2024-02-07 14:09:58.578 +01:00 [DBG] No candidates found for the request path '/api/v1/files/1'
2024-02-07 14:09:58.579 +01:00 [DBG] Request did not match any endpoints
2024-02-07 14:09:58.579 +01:00 [DBG] The request path  does not match the path filter
2024-02-07 14:09:58.579 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-02-07 14:09:58.579 +01:00 [DBG] Connection id "0HN17R3PNBID0" completed keep alive response.
2024-02-07 14:09:58.579 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7015/api/v1/files/1 - - - 404 0 - 1.1302ms
2024-02-07 14:10:10.545 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5135/api/v1/files/1 - -
2024-02-07 14:10:10.545 +01:00 [DBG] No candidates found for the request path '/api/v1/files/1'
2024-02-07 14:10:10.546 +01:00 [DBG] Request did not match any endpoints
2024-02-07 14:10:10.546 +01:00 [DBG] The request path  does not match the path filter
2024-02-07 14:10:10.546 +01:00 [DBG] Redirecting to 'https://localhost:7015/api/v1/files/1'.
2024-02-07 14:10:10.546 +01:00 [DBG] Connection id "0HN17R3PNBICU" completed keep alive response.
2024-02-07 14:10:10.546 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5135/api/v1/files/1 - - - 307 0 - 1.3874ms
2024-02-07 14:10:10.547 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7015/api/v1/files/1 - -
2024-02-07 14:10:10.547 +01:00 [DBG] No candidates found for the request path '/api/v1/files/1'
2024-02-07 14:10:10.548 +01:00 [DBG] Request did not match any endpoints
2024-02-07 14:10:10.548 +01:00 [DBG] The request path  does not match the path filter
2024-02-07 14:10:10.548 +01:00 [DBG] Successfully validated the token.
2024-02-07 14:10:10.548 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-02-07 14:10:10.549 +01:00 [DBG] Connection id "0HN17R3PNBID0" completed keep alive response.
2024-02-07 14:10:10.550 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7015/api/v1/files/1 - - - 404 0 - 2.3063ms
2024-02-07 14:10:20.770 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5135/api/v2/files/1 - -
2024-02-07 14:10:20.770 +01:00 [DBG] No candidates found for the request path '/api/v2/files/1'
2024-02-07 14:10:20.770 +01:00 [DBG] Request did not match any endpoints
2024-02-07 14:10:20.770 +01:00 [DBG] The request path  does not match the path filter
2024-02-07 14:10:20.770 +01:00 [DBG] Redirecting to 'https://localhost:7015/api/v2/files/1'.
2024-02-07 14:10:20.770 +01:00 [DBG] Connection id "0HN17R3PNBICU" completed keep alive response.
2024-02-07 14:10:20.770 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5135/api/v2/files/1 - - - 307 0 - 0.6805ms
2024-02-07 14:10:20.772 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7015/api/v2/files/1 - -
2024-02-07 14:10:20.772 +01:00 [DBG] No candidates found for the request path '/api/v2/files/1'
2024-02-07 14:10:20.772 +01:00 [DBG] Request did not match any endpoints
2024-02-07 14:10:20.772 +01:00 [DBG] The request path  does not match the path filter
2024-02-07 14:10:20.773 +01:00 [DBG] Successfully validated the token.
2024-02-07 14:10:20.773 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-02-07 14:10:20.773 +01:00 [DBG] Connection id "0HN17R3PNBID0" completed keep alive response.
2024-02-07 14:10:20.773 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7015/api/v2/files/1 - - - 404 0 - 0.8630ms
2024-02-07 14:11:22.390 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5135/api/v2/cities - -
2024-02-07 14:11:22.390 +01:00 [DBG] 1 candidate(s) found for the request path '/api/v2/cities'
2024-02-07 14:11:22.391 +01:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/v{version:apiVersion}/Cities' is valid for the request path '/api/v2/cities'
2024-02-07 14:11:22.391 +01:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-02-07 14:11:22.391 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-02-07 14:11:22.391 +01:00 [DBG] Redirecting to 'https://localhost:7015/api/v2/cities'.
2024-02-07 14:11:22.391 +01:00 [DBG] Connection id "0HN17R3PNBICU" completed keep alive response.
2024-02-07 14:11:22.391 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5135/api/v2/cities - - - 307 0 - 1.1154ms
2024-02-07 14:11:22.392 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7015/api/v2/cities - -
2024-02-07 14:11:22.392 +01:00 [DBG] 1 candidate(s) found for the request path '/api/v2/cities'
2024-02-07 14:11:22.392 +01:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/v{version:apiVersion}/Cities' is valid for the request path '/api/v2/cities'
2024-02-07 14:11:22.393 +01:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-02-07 14:11:22.393 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-02-07 14:11:22.393 +01:00 [DBG] Successfully validated the token.
2024-02-07 14:11:22.394 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-02-07 14:11:22.394 +01:00 [DBG] Authorization was successful.
2024-02-07 14:11:22.394 +01:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-02-07 14:11:22.394 +01:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointsOfInterestDto]]] GetCities(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-02-07 14:11:22.394 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-02-07 14:11:22.394 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-02-07 14:11:22.395 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-02-07 14:11:22.395 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-02-07 14:11:22.395 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-02-07 14:11:22.395 +01:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-02-07 14:11:22.396 +01:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-02-07 14:11:22.396 +01:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2024-02-07 14:11:22.396 +01:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2024-02-07 14:11:22.396 +01:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2024-02-07 14:11:22.397 +01:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2024-02-07 14:11:22.397 +01:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2024-02-07 14:11:22.397 +01:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2024-02-07 14:11:22.397 +01:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2024-02-07 14:11:22.398 +01:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2024-02-07 14:11:22.398 +01:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name '' in request data ...
2024-02-07 14:11:22.399 +01:00 [DBG] Could not find a value in the request with name '' for binding parameter 'searchQuery' of type 'System.String'.
2024-02-07 14:11:22.399 +01:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2024-02-07 14:11:22.399 +01:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2024-02-07 14:11:22.399 +01:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2024-02-07 14:11:22.399 +01:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2024-02-07 14:11:22.399 +01:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2024-02-07 14:11:22.400 +01:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name '' in request data ...
2024-02-07 14:11:22.400 +01:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageNumber' of type 'System.Int32'.
2024-02-07 14:11:22.400 +01:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2024-02-07 14:11:22.400 +01:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2024-02-07 14:11:22.400 +01:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2024-02-07 14:11:22.400 +01:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2024-02-07 14:11:22.400 +01:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2024-02-07 14:11:22.401 +01:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name '' in request data ...
2024-02-07 14:11:22.401 +01:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageSize' of type 'System.Int32'.
2024-02-07 14:11:22.401 +01:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2024-02-07 14:11:22.401 +01:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2024-02-07 14:11:22.401 +01:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2024-02-07 14:11:22.401 +01:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2024-02-07 14:11:22.402 +01:00 [INF] Entity Framework Core 6.0.19 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.19' with options: None
2024-02-07 14:11:22.402 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-02-07 14:11:22.403 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-02-07 14:11:22.403 +01:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-02-07 14:11:22.403 +01:00 [DBG] Opened connection to database 'main' on server '/Users/iediong/Code/tutorials/csharp-projects/CityInfo/CityInfo.API/CityInfo.db'.
2024-02-07 14:11:22.403 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2024-02-07 14:11:22.403 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2024-02-07 14:11:22.404 +01:00 [DBG] A data reader was disposed.
2024-02-07 14:11:22.404 +01:00 [DBG] Closing connection to database 'main' on server '/Users/iediong/Code/tutorials/csharp-projects/CityInfo/CityInfo.API/CityInfo.db'.
2024-02-07 14:11:22.404 +01:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-02-07 14:11:22.404 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-02-07 14:11:22.404 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-02-07 14:11:22.404 +01:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-02-07 14:11:22.405 +01:00 [DBG] Opened connection to database 'main' on server '/Users/iediong/Code/tutorials/csharp-projects/CityInfo/CityInfo.API/CityInfo.db'.
2024-02-07 14:11:22.405 +01:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
LIMIT @__p_1 OFFSET @__p_0
2024-02-07 14:11:22.405 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
LIMIT @__p_1 OFFSET @__p_0
2024-02-07 14:11:22.405 +01:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-07 14:11:22.406 +01:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-07 14:11:22.406 +01:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-07 14:11:22.406 +01:00 [DBG] A data reader was disposed.
2024-02-07 14:11:22.406 +01:00 [DBG] Closing connection to database 'main' on server '/Users/iediong/Code/tutorials/csharp-projects/CityInfo/CityInfo.API/CityInfo.db'.
2024-02-07 14:11:22.406 +01:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-02-07 14:11:22.407 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-02-07 14:11:22.407 +01:00 [DBG] No information found on request to perform content negotiation.
2024-02-07 14:11:22.407 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-02-07 14:11:22.407 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-02-07 14:11:22.407 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-02-07 14:11:22.407 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointsOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-02-07 14:11:22.407 +01:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 12.1943ms
2024-02-07 14:11:22.408 +01:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-02-07 14:11:22.408 +01:00 [DBG] Connection id "0HN17R3PNBID0" completed keep alive response.
2024-02-07 14:11:22.408 +01:00 [DBG] 'CityInfoContext' disposed.
2024-02-07 14:11:22.408 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7015/api/v2/cities - - - 200 247 application/json;+charset=utf-8 15.6901ms
2024-02-07 14:13:18.537 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5135/api/v2/cities/1/pointsofinterest application/json 285
2024-02-07 14:13:18.538 +01:00 [DBG] 1 candidate(s) found for the request path '/api/v2/cities/1/pointsofinterest'
2024-02-07 14:13:18.539 +01:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterestAsync (CityInfo.API)' with route pattern 'api/v{version:apiVersion}/cities/{cityId}/pointsofinterest' is valid for the request path '/api/v2/cities/1/pointsofinterest'
2024-02-07 14:13:18.539 +01:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterestAsync (CityInfo.API)'
2024-02-07 14:13:18.539 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-02-07 14:13:18.540 +01:00 [DBG] Redirecting to 'https://localhost:7015/api/v2/cities/1/pointsofinterest'.
2024-02-07 14:13:18.540 +01:00 [DBG] Connection id "0HN17R3PNBICU" completed keep alive response.
2024-02-07 14:13:18.540 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5135/api/v2/cities/1/pointsofinterest application/json 285 - 307 0 - 2.9050ms
2024-02-07 14:13:18.540 +01:00 [DBG] Connection id "0HN17R3PNBICU", Request id "0HN17R3PNBICU:00000018": started reading request body.
2024-02-07 14:13:18.541 +01:00 [DBG] Connection id "0HN17R3PNBICU", Request id "0HN17R3PNBICU:00000018": done reading request body.
2024-02-07 14:13:18.541 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:7015/api/v2/cities/1/pointsofinterest application/json 285
2024-02-07 14:13:18.541 +01:00 [DBG] 1 candidate(s) found for the request path '/api/v2/cities/1/pointsofinterest'
2024-02-07 14:13:18.542 +01:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterestAsync (CityInfo.API)' with route pattern 'api/v{version:apiVersion}/cities/{cityId}/pointsofinterest' is valid for the request path '/api/v2/cities/1/pointsofinterest'
2024-02-07 14:13:18.542 +01:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterestAsync (CityInfo.API)'
2024-02-07 14:13:18.542 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-02-07 14:13:18.543 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-02-07 14:13:18.543 +01:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
ClaimsAuthorizationRequirement:Claim.Type=city and Claim.Value is one of the following values: (Antwerp)
2024-02-07 14:13:18.544 +01:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-02-07 14:13:18.544 +01:00 [DBG] Connection id "0HN17R3PNBID0" completed keep alive response.
2024-02-07 14:13:18.544 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:7015/api/v2/cities/1/pointsofinterest application/json 285 - 401 0 - 2.8283ms
2024-02-07 14:13:18.544 +01:00 [DBG] Connection id "0HN17R3PNBID0", Request id "0HN17R3PNBID0:0000001B": started reading request body.
2024-02-07 14:13:18.544 +01:00 [DBG] Connection id "0HN17R3PNBID0", Request id "0HN17R3PNBID0:0000001B": done reading request body.
2024-02-07 14:13:26.856 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5135/api/v2/cities/1/pointsofinterest application/json 285
2024-02-07 14:13:26.856 +01:00 [DBG] 1 candidate(s) found for the request path '/api/v2/cities/1/pointsofinterest'
2024-02-07 14:13:26.856 +01:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterestAsync (CityInfo.API)' with route pattern 'api/v{version:apiVersion}/cities/{cityId}/pointsofinterest' is valid for the request path '/api/v2/cities/1/pointsofinterest'
2024-02-07 14:13:26.856 +01:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterestAsync (CityInfo.API)'
2024-02-07 14:13:26.856 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-02-07 14:13:26.856 +01:00 [DBG] Redirecting to 'https://localhost:7015/api/v2/cities/1/pointsofinterest'.
2024-02-07 14:13:26.856 +01:00 [DBG] Connection id "0HN17R3PNBICU" completed keep alive response.
2024-02-07 14:13:26.856 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5135/api/v2/cities/1/pointsofinterest application/json 285 - 307 0 - 0.8007ms
2024-02-07 14:13:26.857 +01:00 [DBG] Connection id "0HN17R3PNBICU", Request id "0HN17R3PNBICU:00000019": started reading request body.
2024-02-07 14:13:26.857 +01:00 [DBG] Connection id "0HN17R3PNBICU", Request id "0HN17R3PNBICU:00000019": done reading request body.
2024-02-07 14:13:26.859 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:7015/api/v2/cities/1/pointsofinterest application/json 285
2024-02-07 14:13:26.859 +01:00 [DBG] 1 candidate(s) found for the request path '/api/v2/cities/1/pointsofinterest'
2024-02-07 14:13:26.859 +01:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterestAsync (CityInfo.API)' with route pattern 'api/v{version:apiVersion}/cities/{cityId}/pointsofinterest' is valid for the request path '/api/v2/cities/1/pointsofinterest'
2024-02-07 14:13:26.859 +01:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterestAsync (CityInfo.API)'
2024-02-07 14:13:26.859 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-02-07 14:13:26.860 +01:00 [DBG] Successfully validated the token.
2024-02-07 14:13:26.860 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-02-07 14:13:26.860 +01:00 [DBG] Authorization was successful.
2024-02-07 14:13:26.860 +01:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterestAsync (CityInfo.API)'
2024-02-07 14:13:26.867 +01:00 [INF] Route matched with {action = "CreatePointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.PointOfInterestDto]] CreatePointOfInterestAsync(Int32, CityInfo.API.Models.PointOfInterestForCreationDto) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2024-02-07 14:13:26.867 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-02-07 14:13:26.867 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-02-07 14:13:26.867 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-02-07 14:13:26.867 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-02-07 14:13:26.867 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-02-07 14:13:26.867 +01:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-02-07 14:13:26.868 +01:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-02-07 14:13:26.868 +01:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-02-07 14:13:26.868 +01:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-02-07 14:13:26.868 +01:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-02-07 14:13:26.868 +01:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-02-07 14:13:26.868 +01:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-02-07 14:13:26.868 +01:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-02-07 14:13:26.868 +01:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto' ...
2024-02-07 14:13:26.869 +01:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto' using the name '' in request data ...
2024-02-07 14:13:26.869 +01:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-02-07 14:13:26.869 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-02-07 14:13:26.869 +01:00 [DBG] Connection id "0HN17R3PNBID0", Request id "0HN17R3PNBID0:0000001C": started reading request body.
2024-02-07 14:13:26.869 +01:00 [DBG] Connection id "0HN17R3PNBID0", Request id "0HN17R3PNBID0:0000001C": done reading request body.
2024-02-07 14:13:26.871 +01:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto'.
2024-02-07 14:13:26.871 +01:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto'.
2024-02-07 14:13:26.871 +01:00 [DBG] Attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto' ...
2024-02-07 14:13:26.875 +01:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto'.
2024-02-07 14:13:26.875 +01:00 [DBG] The request has model state errors, returning an error response.
2024-02-07 14:13:26.876 +01:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2024-02-07 14:13:26.876 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-02-07 14:13:26.877 +01:00 [DBG] No information found on request to perform content negotiation.
2024-02-07 14:13:26.877 +01:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-02-07 14:13:26.877 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-02-07 14:13:26.877 +01:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-02-07 14:13:26.892 +01:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterestAsync (CityInfo.API) in 24.2328ms
2024-02-07 14:13:26.892 +01:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterestAsync (CityInfo.API)'
2024-02-07 14:13:26.892 +01:00 [DBG] Connection id "0HN17R3PNBID0" completed keep alive response.
2024-02-07 14:13:26.892 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:7015/api/v2/cities/1/pointsofinterest application/json 285 - 400 305 application/problem+json;+charset=utf-8 33.4195ms
2024-02-07 14:13:59.047 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5135/api/v2/cities/1/pointsofinterest application/json 210
2024-02-07 14:13:59.047 +01:00 [DBG] 1 candidate(s) found for the request path '/api/v2/cities/1/pointsofinterest'
2024-02-07 14:13:59.047 +01:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterestAsync (CityInfo.API)' with route pattern 'api/v{version:apiVersion}/cities/{cityId}/pointsofinterest' is valid for the request path '/api/v2/cities/1/pointsofinterest'
2024-02-07 14:13:59.047 +01:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterestAsync (CityInfo.API)'
2024-02-07 14:13:59.048 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-02-07 14:13:59.048 +01:00 [DBG] Redirecting to 'https://localhost:7015/api/v2/cities/1/pointsofinterest'.
2024-02-07 14:13:59.048 +01:00 [DBG] Connection id "0HN17R3PNBICU" completed keep alive response.
2024-02-07 14:13:59.048 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5135/api/v2/cities/1/pointsofinterest application/json 210 - 307 0 - 1.0784ms
2024-02-07 14:13:59.048 +01:00 [DBG] Connection id "0HN17R3PNBICU", Request id "0HN17R3PNBICU:0000001A": started reading request body.
2024-02-07 14:13:59.048 +01:00 [DBG] Connection id "0HN17R3PNBICU", Request id "0HN17R3PNBICU:0000001A": done reading request body.
2024-02-07 14:13:59.049 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:7015/api/v2/cities/1/pointsofinterest application/json 210
2024-02-07 14:13:59.049 +01:00 [DBG] 1 candidate(s) found for the request path '/api/v2/cities/1/pointsofinterest'
2024-02-07 14:13:59.050 +01:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterestAsync (CityInfo.API)' with route pattern 'api/v{version:apiVersion}/cities/{cityId}/pointsofinterest' is valid for the request path '/api/v2/cities/1/pointsofinterest'
2024-02-07 14:13:59.050 +01:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterestAsync (CityInfo.API)'
2024-02-07 14:13:59.050 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-02-07 14:13:59.050 +01:00 [DBG] Successfully validated the token.
2024-02-07 14:13:59.050 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-02-07 14:13:59.050 +01:00 [DBG] Authorization was successful.
2024-02-07 14:13:59.050 +01:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterestAsync (CityInfo.API)'
2024-02-07 14:13:59.051 +01:00 [INF] Route matched with {action = "CreatePointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.PointOfInterestDto]] CreatePointOfInterestAsync(Int32, CityInfo.API.Models.PointOfInterestForCreationDto) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2024-02-07 14:13:59.051 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-02-07 14:13:59.051 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-02-07 14:13:59.051 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-02-07 14:13:59.051 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-02-07 14:13:59.051 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-02-07 14:13:59.051 +01:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-02-07 14:13:59.052 +01:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-02-07 14:13:59.052 +01:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-02-07 14:13:59.052 +01:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-02-07 14:13:59.052 +01:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-02-07 14:13:59.052 +01:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-02-07 14:13:59.052 +01:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-02-07 14:13:59.052 +01:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-02-07 14:13:59.052 +01:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto' ...
2024-02-07 14:13:59.052 +01:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto' using the name '' in request data ...
2024-02-07 14:13:59.053 +01:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-02-07 14:13:59.053 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-02-07 14:13:59.053 +01:00 [DBG] Connection id "0HN17R3PNBID0", Request id "0HN17R3PNBID0:0000001D": started reading request body.
2024-02-07 14:13:59.053 +01:00 [DBG] Connection id "0HN17R3PNBID0", Request id "0HN17R3PNBID0:0000001D": done reading request body.
2024-02-07 14:13:59.053 +01:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto'.
2024-02-07 14:13:59.053 +01:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto'.
2024-02-07 14:13:59.053 +01:00 [DBG] Attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto' ...
2024-02-07 14:13:59.053 +01:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto'.
2024-02-07 14:13:59.054 +01:00 [DBG] The request has model state errors, returning an error response.
2024-02-07 14:13:59.054 +01:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2024-02-07 14:13:59.054 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-02-07 14:13:59.054 +01:00 [DBG] No information found on request to perform content negotiation.
2024-02-07 14:13:59.054 +01:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-02-07 14:13:59.054 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-02-07 14:13:59.054 +01:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-02-07 14:13:59.055 +01:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterestAsync (CityInfo.API) in 3.6767ms
2024-02-07 14:13:59.055 +01:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterestAsync (CityInfo.API)'
2024-02-07 14:13:59.056 +01:00 [DBG] Connection id "0HN17R3PNBID0" completed keep alive response.
2024-02-07 14:13:59.056 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:7015/api/v2/cities/1/pointsofinterest application/json 210 - 400 305 application/problem+json;+charset=utf-8 6.7853ms
2024-02-07 14:14:34.539 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5135/api/v2/cities/1/pointsofinterest application/json 185
2024-02-07 14:14:34.539 +01:00 [DBG] 1 candidate(s) found for the request path '/api/v2/cities/1/pointsofinterest'
2024-02-07 14:14:34.539 +01:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterestAsync (CityInfo.API)' with route pattern 'api/v{version:apiVersion}/cities/{cityId}/pointsofinterest' is valid for the request path '/api/v2/cities/1/pointsofinterest'
2024-02-07 14:14:34.540 +01:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterestAsync (CityInfo.API)'
2024-02-07 14:14:34.540 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-02-07 14:14:34.540 +01:00 [DBG] Redirecting to 'https://localhost:7015/api/v2/cities/1/pointsofinterest'.
2024-02-07 14:14:34.540 +01:00 [DBG] Connection id "0HN17R3PNBICU" completed keep alive response.
2024-02-07 14:14:34.540 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5135/api/v2/cities/1/pointsofinterest application/json 185 - 307 0 - 1.2712ms
2024-02-07 14:14:34.540 +01:00 [DBG] Connection id "0HN17R3PNBICU", Request id "0HN17R3PNBICU:0000001B": started reading request body.
2024-02-07 14:14:34.540 +01:00 [DBG] Connection id "0HN17R3PNBICU", Request id "0HN17R3PNBICU:0000001B": done reading request body.
2024-02-07 14:14:34.542 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:7015/api/v2/cities/1/pointsofinterest application/json 185
2024-02-07 14:14:34.542 +01:00 [DBG] 1 candidate(s) found for the request path '/api/v2/cities/1/pointsofinterest'
2024-02-07 14:14:34.542 +01:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterestAsync (CityInfo.API)' with route pattern 'api/v{version:apiVersion}/cities/{cityId}/pointsofinterest' is valid for the request path '/api/v2/cities/1/pointsofinterest'
2024-02-07 14:14:34.542 +01:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterestAsync (CityInfo.API)'
2024-02-07 14:14:34.543 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-02-07 14:14:34.543 +01:00 [DBG] Successfully validated the token.
2024-02-07 14:14:34.543 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-02-07 14:14:34.543 +01:00 [DBG] Authorization was successful.
2024-02-07 14:14:34.544 +01:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterestAsync (CityInfo.API)'
2024-02-07 14:14:34.544 +01:00 [INF] Route matched with {action = "CreatePointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.PointOfInterestDto]] CreatePointOfInterestAsync(Int32, CityInfo.API.Models.PointOfInterestForCreationDto) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2024-02-07 14:14:34.545 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-02-07 14:14:34.545 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-02-07 14:14:34.545 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-02-07 14:14:34.546 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-02-07 14:14:34.546 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-02-07 14:14:34.546 +01:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-02-07 14:14:34.547 +01:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-02-07 14:14:34.547 +01:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-02-07 14:14:34.547 +01:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-02-07 14:14:34.547 +01:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-02-07 14:14:34.547 +01:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-02-07 14:14:34.547 +01:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-02-07 14:14:34.547 +01:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-02-07 14:14:34.548 +01:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto' ...
2024-02-07 14:14:34.548 +01:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto' using the name '' in request data ...
2024-02-07 14:14:34.548 +01:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-02-07 14:14:34.548 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-02-07 14:14:34.548 +01:00 [DBG] Connection id "0HN17R3PNBID0", Request id "0HN17R3PNBID0:0000001E": started reading request body.
2024-02-07 14:14:34.548 +01:00 [DBG] Connection id "0HN17R3PNBID0", Request id "0HN17R3PNBID0:0000001E": done reading request body.
2024-02-07 14:14:34.549 +01:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto'.
2024-02-07 14:14:34.549 +01:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto'.
2024-02-07 14:14:34.549 +01:00 [DBG] Attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto' ...
2024-02-07 14:14:34.549 +01:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto'.
2024-02-07 14:14:34.549 +01:00 [DBG] The request has model state errors, returning an error response.
2024-02-07 14:14:34.549 +01:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2024-02-07 14:14:34.550 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-02-07 14:14:34.550 +01:00 [DBG] No information found on request to perform content negotiation.
2024-02-07 14:14:34.550 +01:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-02-07 14:14:34.550 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-02-07 14:14:34.550 +01:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-02-07 14:14:34.551 +01:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterestAsync (CityInfo.API) in 4.4787ms
2024-02-07 14:14:34.551 +01:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterestAsync (CityInfo.API)'
2024-02-07 14:14:34.551 +01:00 [DBG] Connection id "0HN17R3PNBID0" completed keep alive response.
2024-02-07 14:14:34.551 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:7015/api/v2/cities/1/pointsofinterest application/json 185 - 400 305 application/problem+json;+charset=utf-8 9.2681ms
2024-02-07 14:15:03.760 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5135/api/v2/cities/1/pointsofinterest application/json 150
2024-02-07 14:15:03.762 +01:00 [DBG] 1 candidate(s) found for the request path '/api/v2/cities/1/pointsofinterest'
2024-02-07 14:15:03.762 +01:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterestAsync (CityInfo.API)' with route pattern 'api/v{version:apiVersion}/cities/{cityId}/pointsofinterest' is valid for the request path '/api/v2/cities/1/pointsofinterest'
2024-02-07 14:15:03.762 +01:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterestAsync (CityInfo.API)'
2024-02-07 14:15:03.762 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-02-07 14:15:03.763 +01:00 [DBG] Redirecting to 'https://localhost:7015/api/v2/cities/1/pointsofinterest'.
2024-02-07 14:15:03.763 +01:00 [DBG] Connection id "0HN17R3PNBICU" completed keep alive response.
2024-02-07 14:15:03.763 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5135/api/v2/cities/1/pointsofinterest application/json 150 - 307 0 - 2.5393ms
2024-02-07 14:15:03.763 +01:00 [DBG] Connection id "0HN17R3PNBICU", Request id "0HN17R3PNBICU:0000001C": started reading request body.
2024-02-07 14:15:03.763 +01:00 [DBG] Connection id "0HN17R3PNBICU", Request id "0HN17R3PNBICU:0000001C": done reading request body.
2024-02-07 14:15:03.766 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:7015/api/v2/cities/1/pointsofinterest application/json 150
2024-02-07 14:15:03.767 +01:00 [DBG] 1 candidate(s) found for the request path '/api/v2/cities/1/pointsofinterest'
2024-02-07 14:15:03.767 +01:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterestAsync (CityInfo.API)' with route pattern 'api/v{version:apiVersion}/cities/{cityId}/pointsofinterest' is valid for the request path '/api/v2/cities/1/pointsofinterest'
2024-02-07 14:15:03.767 +01:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterestAsync (CityInfo.API)'
2024-02-07 14:15:03.767 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-02-07 14:15:03.768 +01:00 [DBG] Successfully validated the token.
2024-02-07 14:15:03.768 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-02-07 14:15:03.768 +01:00 [DBG] Authorization was successful.
2024-02-07 14:15:03.768 +01:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterestAsync (CityInfo.API)'
2024-02-07 14:15:03.769 +01:00 [INF] Route matched with {action = "CreatePointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.PointOfInterestDto]] CreatePointOfInterestAsync(Int32, CityInfo.API.Models.PointOfInterestForCreationDto) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2024-02-07 14:15:03.769 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-02-07 14:15:03.769 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-02-07 14:15:03.770 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-02-07 14:15:03.770 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-02-07 14:15:03.770 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-02-07 14:15:03.772 +01:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-02-07 14:15:03.772 +01:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-02-07 14:15:03.772 +01:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-02-07 14:15:03.772 +01:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-02-07 14:15:03.773 +01:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-02-07 14:15:03.773 +01:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-02-07 14:15:03.773 +01:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-02-07 14:15:03.773 +01:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-02-07 14:15:03.773 +01:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto' ...
2024-02-07 14:15:03.774 +01:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto' using the name '' in request data ...
2024-02-07 14:15:03.774 +01:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-02-07 14:15:03.774 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-02-07 14:15:03.774 +01:00 [DBG] Connection id "0HN17R3PNBID0", Request id "0HN17R3PNBID0:0000001F": started reading request body.
2024-02-07 14:15:03.774 +01:00 [DBG] Connection id "0HN17R3PNBID0", Request id "0HN17R3PNBID0:0000001F": done reading request body.
2024-02-07 14:15:03.775 +01:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto'.
2024-02-07 14:15:03.775 +01:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto'.
2024-02-07 14:15:03.775 +01:00 [DBG] Attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto' ...
2024-02-07 14:15:03.775 +01:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto'.
2024-02-07 14:15:03.778 +01:00 [INF] Entity Framework Core 6.0.19 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.19' with options: None
2024-02-07 14:15:03.778 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-02-07 14:15:03.779 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-02-07 14:15:03.779 +01:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-02-07 14:15:03.780 +01:00 [DBG] Opened connection to database 'main' on server '/Users/iediong/Code/tutorials/csharp-projects/CityInfo/CityInfo.API/CityInfo.db'.
2024-02-07 14:15:03.780 +01:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-02-07 14:15:03.781 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-02-07 14:15:03.781 +01:00 [DBG] A data reader was disposed.
2024-02-07 14:15:03.781 +01:00 [DBG] Closing connection to database 'main' on server '/Users/iediong/Code/tutorials/csharp-projects/CityInfo/CityInfo.API/CityInfo.db'.
2024-02-07 14:15:03.781 +01:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-02-07 14:15:03.784 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-02-07 14:15:03.784 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-02-07 14:15:03.785 +01:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-02-07 14:15:03.785 +01:00 [DBG] Opened connection to database 'main' on server '/Users/iediong/Code/tutorials/csharp-projects/CityInfo/CityInfo.API/CityInfo.db'.
2024-02-07 14:15:03.785 +01:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2024-02-07 14:15:03.785 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2024-02-07 14:15:03.786 +01:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-07 14:15:03.786 +01:00 [DBG] A data reader was disposed.
2024-02-07 14:15:03.786 +01:00 [DBG] Closing connection to database 'main' on server '/Users/iediong/Code/tutorials/csharp-projects/CityInfo/CityInfo.API/CityInfo.db'.
2024-02-07 14:15:03.786 +01:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-02-07 14:15:03.789 +01:00 [DBG] SaveChanges starting for 'CityInfoContext'.
2024-02-07 14:15:03.790 +01:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2024-02-07 14:15:03.805 +01:00 [DBG] 1 entities were added and 0 entities were removed from navigation 'City.PointsOfInterest'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-07 14:15:03.821 +01:00 [DBG] 'CityInfoContext' generated a temporary value for the property 'Id.PointOfInterest'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-07 14:15:03.833 +01:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-07 14:15:03.834 +01:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2024-02-07 14:15:03.846 +01:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-02-07 14:15:03.846 +01:00 [DBG] Opened connection to database 'main' on server '/Users/iediong/Code/tutorials/csharp-projects/CityInfo/CityInfo.API/CityInfo.db'.
2024-02-07 14:15:03.846 +01:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-02-07 14:15:03.848 +01:00 [DBG] Began transaction with isolation level 'Serializable'.
2024-02-07 14:15:03.883 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-02-07 14:15:03.883 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-02-07 14:15:03.883 +01:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 97), @p2='?' (Size = 12)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "PointsOfInterest" ("CityId", "Description", "Name")
VALUES (@p0, @p1, @p2);
SELECT "Id"
FROM "PointsOfInterest"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2024-02-07 14:15:03.885 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 97), @p2='?' (Size = 12)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "PointsOfInterest" ("CityId", "Description", "Name")
VALUES (@p0, @p1, @p2);
SELECT "Id"
FROM "PointsOfInterest"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2024-02-07 14:15:03.896 +01:00 [DBG] The foreign key property 'PointOfInterest.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-02-07 14:15:03.901 +01:00 [DBG] A data reader was disposed.
2024-02-07 14:15:03.903 +01:00 [DBG] Committing transaction.
2024-02-07 14:15:03.904 +01:00 [DBG] Committed transaction.
2024-02-07 14:15:03.905 +01:00 [DBG] Closing connection to database 'main' on server '/Users/iediong/Code/tutorials/csharp-projects/CityInfo/CityInfo.API/CityInfo.db'.
2024-02-07 14:15:03.905 +01:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-02-07 14:15:03.906 +01:00 [DBG] Disposing transaction.
2024-02-07 14:15:03.912 +01:00 [DBG] An entity of type 'PointOfInterest' tracked by 'CityInfoContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-07 14:15:03.933 +01:00 [DBG] SaveChanges completed for 'CityInfoContext' with 1 entities written to the database.
2024-02-07 14:15:03.934 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-02-07 14:15:03.934 +01:00 [DBG] No information found on request to perform content negotiation.
2024-02-07 14:15:03.934 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-02-07 14:15:03.934 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-02-07 14:15:03.934 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-02-07 14:15:03.934 +01:00 [INF] Executing CreatedAtRouteResult, writing value of type 'CityInfo.API.Models.PointOfInterestDto'.
2024-02-07 14:15:03.945 +01:00 [DBG] Found the endpoints ["CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterestAsync (CityInfo.API)"] for address Microsoft.AspNetCore.Routing.RouteValuesAddress
2024-02-07 14:15:03.949 +01:00 [DBG] Successfully processed template api/v{version:apiVersion}/cities/{cityId}/pointsofinterest/{pointofinterestid} for CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterestAsync (CityInfo.API) resulting in /api/v2/cities/1/pointsofinterest/12 and 
2024-02-07 14:15:03.950 +01:00 [DBG] Link generation succeeded for endpoints ["CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterestAsync (CityInfo.API)"] with result /api/v2/cities/1/pointsofinterest/12
2024-02-07 14:15:03.950 +01:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterestAsync (CityInfo.API) in 178.3222ms
2024-02-07 14:15:03.950 +01:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterestAsync (CityInfo.API)'
2024-02-07 14:15:03.950 +01:00 [DBG] Connection id "0HN17R3PNBID0" completed keep alive response.
2024-02-07 14:15:03.950 +01:00 [DBG] 'CityInfoContext' disposed.
2024-02-07 14:15:03.950 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:7015/api/v2/cities/1/pointsofinterest application/json 150 - 201 145 application/json;+charset=utf-8 183.7947ms
2024-02-07 14:15:44.263 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5135/api/v2/cities/1/pointsofinterest - -
2024-02-07 14:15:44.264 +01:00 [DBG] 1 candidate(s) found for the request path '/api/v2/cities/1/pointsofinterest'
2024-02-07 14:15:44.264 +01:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterestAsync (CityInfo.API)' with route pattern 'api/v{version:apiVersion}/cities/{cityId}/pointsofinterest' is valid for the request path '/api/v2/cities/1/pointsofinterest'
2024-02-07 14:15:44.265 +01:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterestAsync (CityInfo.API)'
2024-02-07 14:15:44.265 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-02-07 14:15:44.265 +01:00 [DBG] Redirecting to 'https://localhost:7015/api/v2/cities/1/pointsofinterest'.
2024-02-07 14:15:44.265 +01:00 [DBG] Connection id "0HN17R3PNBICU" completed keep alive response.
2024-02-07 14:15:44.265 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5135/api/v2/cities/1/pointsofinterest - - - 307 0 - 2.4259ms
2024-02-07 14:15:44.266 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7015/api/v2/cities/1/pointsofinterest - -
2024-02-07 14:15:44.266 +01:00 [DBG] 1 candidate(s) found for the request path '/api/v2/cities/1/pointsofinterest'
2024-02-07 14:15:44.267 +01:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterestAsync (CityInfo.API)' with route pattern 'api/v{version:apiVersion}/cities/{cityId}/pointsofinterest' is valid for the request path '/api/v2/cities/1/pointsofinterest'
2024-02-07 14:15:44.267 +01:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterestAsync (CityInfo.API)'
2024-02-07 14:15:44.267 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-02-07 14:15:44.268 +01:00 [DBG] Successfully validated the token.
2024-02-07 14:15:44.268 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-02-07 14:15:44.269 +01:00 [DBG] Authorization was successful.
2024-02-07 14:15:44.269 +01:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterestAsync (CityInfo.API)'
2024-02-07 14:15:44.269 +01:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]]] GetPointsOfInterestAsync(Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2024-02-07 14:15:44.269 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-02-07 14:15:44.270 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-02-07 14:15:44.270 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-02-07 14:15:44.270 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-02-07 14:15:44.271 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-02-07 14:15:44.271 +01:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-02-07 14:15:44.272 +01:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-02-07 14:15:44.272 +01:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-02-07 14:15:44.272 +01:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-02-07 14:15:44.272 +01:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-02-07 14:15:44.272 +01:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-02-07 14:15:44.272 +01:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-02-07 14:15:44.272 +01:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-02-07 14:15:44.273 +01:00 [INF] Entity Framework Core 6.0.19 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.19' with options: None
2024-02-07 14:15:44.274 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-02-07 14:15:44.274 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-02-07 14:15:44.274 +01:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-02-07 14:15:44.274 +01:00 [DBG] Opened connection to database 'main' on server '/Users/iediong/Code/tutorials/csharp-projects/CityInfo/CityInfo.API/CityInfo.db'.
2024-02-07 14:15:44.274 +01:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-02-07 14:15:44.274 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-02-07 14:15:44.274 +01:00 [DBG] A data reader was disposed.
2024-02-07 14:15:44.275 +01:00 [DBG] Closing connection to database 'main' on server '/Users/iediong/Code/tutorials/csharp-projects/CityInfo/CityInfo.API/CityInfo.db'.
2024-02-07 14:15:44.275 +01:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-02-07 14:15:44.275 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-02-07 14:15:44.275 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-02-07 14:15:44.276 +01:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-02-07 14:15:44.276 +01:00 [DBG] Opened connection to database 'main' on server '/Users/iediong/Code/tutorials/csharp-projects/CityInfo/CityInfo.API/CityInfo.db'.
2024-02-07 14:15:44.276 +01:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE "p"."CityId" = @__cityId_0
2024-02-07 14:15:44.276 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE "p"."CityId" = @__cityId_0
2024-02-07 14:15:44.276 +01:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-07 14:15:44.277 +01:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-07 14:15:44.277 +01:00 [DBG] A data reader was disposed.
2024-02-07 14:15:44.277 +01:00 [DBG] Closing connection to database 'main' on server '/Users/iediong/Code/tutorials/csharp-projects/CityInfo/CityInfo.API/CityInfo.db'.
2024-02-07 14:15:44.277 +01:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-02-07 14:15:44.277 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-02-07 14:15:44.278 +01:00 [DBG] No information found on request to perform content negotiation.
2024-02-07 14:15:44.278 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-02-07 14:15:44.278 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-02-07 14:15:44.278 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-02-07 14:15:44.278 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-02-07 14:15:44.278 +01:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterestAsync (CityInfo.API) in 7.3547ms
2024-02-07 14:15:44.279 +01:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterestAsync (CityInfo.API)'
2024-02-07 14:15:44.279 +01:00 [DBG] Connection id "0HN17R3PNBID0" completed keep alive response.
2024-02-07 14:15:44.279 +01:00 [DBG] 'CityInfoContext' disposed.
2024-02-07 14:15:44.279 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7015/api/v2/cities/1/pointsofinterest - - - 200 256 application/json;+charset=utf-8 12.7609ms
2024-02-07 14:16:20.809 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5135/api/v2/cities/3/pointsofinterest application/json 0
2024-02-07 14:16:20.809 +01:00 [DBG] 1 candidate(s) found for the request path '/api/v2/cities/3/pointsofinterest'
2024-02-07 14:16:20.810 +01:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterestAsync (CityInfo.API)' with route pattern 'api/v{version:apiVersion}/cities/{cityId}/pointsofinterest' is valid for the request path '/api/v2/cities/3/pointsofinterest'
2024-02-07 14:16:20.810 +01:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterestAsync (CityInfo.API)'
2024-02-07 14:16:20.810 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-02-07 14:16:20.810 +01:00 [DBG] Redirecting to 'https://localhost:7015/api/v2/cities/3/pointsofinterest'.
2024-02-07 14:16:20.810 +01:00 [DBG] Connection id "0HN17R3PNBICU" completed keep alive response.
2024-02-07 14:16:20.810 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5135/api/v2/cities/3/pointsofinterest application/json 0 - 307 0 - 1.4681ms
2024-02-07 14:16:20.812 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:7015/api/v2/cities/3/pointsofinterest application/json 0
2024-02-07 14:16:20.812 +01:00 [DBG] 1 candidate(s) found for the request path '/api/v2/cities/3/pointsofinterest'
2024-02-07 14:16:20.812 +01:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterestAsync (CityInfo.API)' with route pattern 'api/v{version:apiVersion}/cities/{cityId}/pointsofinterest' is valid for the request path '/api/v2/cities/3/pointsofinterest'
2024-02-07 14:16:20.812 +01:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterestAsync (CityInfo.API)'
2024-02-07 14:16:20.812 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-02-07 14:16:20.813 +01:00 [DBG] Successfully validated the token.
2024-02-07 14:16:20.815 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-02-07 14:16:20.815 +01:00 [DBG] Authorization was successful.
2024-02-07 14:16:20.815 +01:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterestAsync (CityInfo.API)'
2024-02-07 14:16:20.815 +01:00 [INF] Route matched with {action = "CreatePointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.PointOfInterestDto]] CreatePointOfInterestAsync(Int32, CityInfo.API.Models.PointOfInterestForCreationDto) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2024-02-07 14:16:20.816 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-02-07 14:16:20.816 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-02-07 14:16:20.816 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-02-07 14:16:20.816 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-02-07 14:16:20.817 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-02-07 14:16:20.817 +01:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-02-07 14:16:20.817 +01:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-02-07 14:16:20.818 +01:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-02-07 14:16:20.818 +01:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-02-07 14:16:20.818 +01:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-02-07 14:16:20.818 +01:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-02-07 14:16:20.818 +01:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-02-07 14:16:20.819 +01:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-02-07 14:16:20.819 +01:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto' ...
2024-02-07 14:16:20.819 +01:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto' using the name '' in request data ...
2024-02-07 14:16:20.819 +01:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-02-07 14:16:20.820 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-02-07 14:16:20.822 +01:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto'.
2024-02-07 14:16:20.822 +01:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto'.
2024-02-07 14:16:20.822 +01:00 [DBG] Attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto' ...
2024-02-07 14:16:20.822 +01:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto'.
2024-02-07 14:16:20.823 +01:00 [DBG] The request has model state errors, returning an error response.
2024-02-07 14:16:20.823 +01:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2024-02-07 14:16:20.823 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-02-07 14:16:20.823 +01:00 [DBG] No information found on request to perform content negotiation.
2024-02-07 14:16:20.823 +01:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-02-07 14:16:20.823 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-02-07 14:16:20.823 +01:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-02-07 14:16:20.824 +01:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterestAsync (CityInfo.API) in 6.6534ms
2024-02-07 14:16:20.824 +01:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterestAsync (CityInfo.API)'
2024-02-07 14:16:20.824 +01:00 [DBG] Connection id "0HN17R3PNBID0" completed keep alive response.
2024-02-07 14:16:20.824 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:7015/api/v2/cities/3/pointsofinterest application/json 0 - 400 308 application/problem+json;+charset=utf-8 12.3237ms
2024-02-07 14:17:04.670 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5135/api/v2/cities/3/pointsofinterest application/json 974
2024-02-07 14:17:04.671 +01:00 [DBG] 1 candidate(s) found for the request path '/api/v2/cities/3/pointsofinterest'
2024-02-07 14:17:04.671 +01:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterestAsync (CityInfo.API)' with route pattern 'api/v{version:apiVersion}/cities/{cityId}/pointsofinterest' is valid for the request path '/api/v2/cities/3/pointsofinterest'
2024-02-07 14:17:04.671 +01:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterestAsync (CityInfo.API)'
2024-02-07 14:17:04.671 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-02-07 14:17:04.671 +01:00 [DBG] Redirecting to 'https://localhost:7015/api/v2/cities/3/pointsofinterest'.
2024-02-07 14:17:04.671 +01:00 [DBG] Connection id "0HN17R3PNBICU" completed keep alive response.
2024-02-07 14:17:04.672 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5135/api/v2/cities/3/pointsofinterest application/json 974 - 307 0 - 1.5931ms
2024-02-07 14:17:04.672 +01:00 [DBG] Connection id "0HN17R3PNBICU", Request id "0HN17R3PNBICU:0000001F": started reading request body.
2024-02-07 14:17:04.672 +01:00 [DBG] Connection id "0HN17R3PNBICU", Request id "0HN17R3PNBICU:0000001F": done reading request body.
2024-02-07 14:17:04.673 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:7015/api/v2/cities/3/pointsofinterest application/json 974
2024-02-07 14:17:04.673 +01:00 [DBG] 1 candidate(s) found for the request path '/api/v2/cities/3/pointsofinterest'
2024-02-07 14:17:04.673 +01:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterestAsync (CityInfo.API)' with route pattern 'api/v{version:apiVersion}/cities/{cityId}/pointsofinterest' is valid for the request path '/api/v2/cities/3/pointsofinterest'
2024-02-07 14:17:04.673 +01:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterestAsync (CityInfo.API)'
2024-02-07 14:17:04.673 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-02-07 14:17:04.673 +01:00 [DBG] Successfully validated the token.
2024-02-07 14:17:04.674 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-02-07 14:17:04.674 +01:00 [DBG] Authorization was successful.
2024-02-07 14:17:04.674 +01:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterestAsync (CityInfo.API)'
2024-02-07 14:17:04.674 +01:00 [INF] Route matched with {action = "CreatePointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.PointOfInterestDto]] CreatePointOfInterestAsync(Int32, CityInfo.API.Models.PointOfInterestForCreationDto) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2024-02-07 14:17:04.674 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-02-07 14:17:04.674 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-02-07 14:17:04.674 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-02-07 14:17:04.674 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-02-07 14:17:04.674 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-02-07 14:17:04.675 +01:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-02-07 14:17:04.675 +01:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-02-07 14:17:04.675 +01:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-02-07 14:17:04.675 +01:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-02-07 14:17:04.675 +01:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-02-07 14:17:04.675 +01:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-02-07 14:17:04.676 +01:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-02-07 14:17:04.676 +01:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-02-07 14:17:04.676 +01:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto' ...
2024-02-07 14:17:04.676 +01:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto' using the name '' in request data ...
2024-02-07 14:17:04.676 +01:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-02-07 14:17:04.676 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-02-07 14:17:04.676 +01:00 [DBG] Connection id "0HN17R3PNBID0", Request id "0HN17R3PNBID0:00000022": started reading request body.
2024-02-07 14:17:04.676 +01:00 [DBG] Connection id "0HN17R3PNBID0", Request id "0HN17R3PNBID0:00000022": done reading request body.
2024-02-07 14:17:04.680 +01:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto'.
2024-02-07 14:17:04.680 +01:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto'.
2024-02-07 14:17:04.680 +01:00 [DBG] Attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto' ...
2024-02-07 14:17:04.680 +01:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto'.
2024-02-07 14:17:04.680 +01:00 [DBG] The request has model state errors, returning an error response.
2024-02-07 14:17:04.680 +01:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2024-02-07 14:17:04.680 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-02-07 14:17:04.681 +01:00 [DBG] No information found on request to perform content negotiation.
2024-02-07 14:17:04.681 +01:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-02-07 14:17:04.681 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-02-07 14:17:04.681 +01:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-02-07 14:17:04.681 +01:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterestAsync (CityInfo.API) in 6.4998ms
2024-02-07 14:17:04.681 +01:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterestAsync (CityInfo.API)'
2024-02-07 14:17:04.681 +01:00 [DBG] Connection id "0HN17R3PNBID0" completed keep alive response.
2024-02-07 14:17:04.681 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:7015/api/v2/cities/3/pointsofinterest application/json 974 - 400 349 application/problem+json;+charset=utf-8 8.5744ms
2024-02-07 14:17:49.031 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5135/api/v2/cities - -
2024-02-07 14:17:49.032 +01:00 [DBG] 1 candidate(s) found for the request path '/api/v2/cities'
2024-02-07 14:17:49.032 +01:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/v{version:apiVersion}/Cities' is valid for the request path '/api/v2/cities'
2024-02-07 14:17:49.032 +01:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-02-07 14:17:49.032 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-02-07 14:17:49.032 +01:00 [DBG] Redirecting to 'https://localhost:7015/api/v2/cities'.
2024-02-07 14:17:49.032 +01:00 [DBG] Connection id "0HN17R3PNBICU" completed keep alive response.
2024-02-07 14:17:49.032 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5135/api/v2/cities - - - 307 0 - 1.0922ms
2024-02-07 14:17:49.033 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7015/api/v2/cities - -
2024-02-07 14:17:49.033 +01:00 [DBG] 1 candidate(s) found for the request path '/api/v2/cities'
2024-02-07 14:17:49.033 +01:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/v{version:apiVersion}/Cities' is valid for the request path '/api/v2/cities'
2024-02-07 14:17:49.033 +01:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-02-07 14:17:49.034 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-02-07 14:17:49.034 +01:00 [DBG] Successfully validated the token.
2024-02-07 14:17:49.034 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-02-07 14:17:49.034 +01:00 [DBG] Authorization was successful.
2024-02-07 14:17:49.035 +01:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-02-07 14:17:49.035 +01:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointsOfInterestDto]]] GetCities(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-02-07 14:17:49.036 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-02-07 14:17:49.036 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-02-07 14:17:49.036 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-02-07 14:17:49.037 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-02-07 14:17:49.037 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-02-07 14:17:49.037 +01:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-02-07 14:17:49.038 +01:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-02-07 14:17:49.038 +01:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2024-02-07 14:17:49.038 +01:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2024-02-07 14:17:49.038 +01:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2024-02-07 14:17:49.039 +01:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2024-02-07 14:17:49.039 +01:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2024-02-07 14:17:49.039 +01:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2024-02-07 14:17:49.039 +01:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2024-02-07 14:17:49.039 +01:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2024-02-07 14:17:49.039 +01:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name '' in request data ...
2024-02-07 14:17:49.039 +01:00 [DBG] Could not find a value in the request with name '' for binding parameter 'searchQuery' of type 'System.String'.
2024-02-07 14:17:49.039 +01:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2024-02-07 14:17:49.040 +01:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2024-02-07 14:17:49.040 +01:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2024-02-07 14:17:49.040 +01:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2024-02-07 14:17:49.040 +01:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2024-02-07 14:17:49.040 +01:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name '' in request data ...
2024-02-07 14:17:49.040 +01:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageNumber' of type 'System.Int32'.
2024-02-07 14:17:49.040 +01:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2024-02-07 14:17:49.040 +01:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2024-02-07 14:17:49.040 +01:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2024-02-07 14:17:49.041 +01:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2024-02-07 14:17:49.041 +01:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2024-02-07 14:17:49.041 +01:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name '' in request data ...
2024-02-07 14:17:49.041 +01:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageSize' of type 'System.Int32'.
2024-02-07 14:17:49.041 +01:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2024-02-07 14:17:49.041 +01:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2024-02-07 14:17:49.041 +01:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2024-02-07 14:17:49.041 +01:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2024-02-07 14:17:49.042 +01:00 [INF] Entity Framework Core 6.0.19 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.19' with options: None
2024-02-07 14:17:49.042 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-02-07 14:17:49.042 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-02-07 14:17:49.042 +01:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-02-07 14:17:49.042 +01:00 [DBG] Opened connection to database 'main' on server '/Users/iediong/Code/tutorials/csharp-projects/CityInfo/CityInfo.API/CityInfo.db'.
2024-02-07 14:17:49.043 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2024-02-07 14:17:49.043 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2024-02-07 14:17:49.043 +01:00 [DBG] A data reader was disposed.
2024-02-07 14:17:49.043 +01:00 [DBG] Closing connection to database 'main' on server '/Users/iediong/Code/tutorials/csharp-projects/CityInfo/CityInfo.API/CityInfo.db'.
2024-02-07 14:17:49.043 +01:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-02-07 14:17:49.044 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-02-07 14:17:49.044 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-02-07 14:17:49.044 +01:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-02-07 14:17:49.044 +01:00 [DBG] Opened connection to database 'main' on server '/Users/iediong/Code/tutorials/csharp-projects/CityInfo/CityInfo.API/CityInfo.db'.
2024-02-07 14:17:49.044 +01:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
LIMIT @__p_1 OFFSET @__p_0
2024-02-07 14:17:49.045 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
LIMIT @__p_1 OFFSET @__p_0
2024-02-07 14:17:49.045 +01:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-07 14:17:49.045 +01:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-07 14:17:49.045 +01:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-07 14:17:49.045 +01:00 [DBG] A data reader was disposed.
2024-02-07 14:17:49.046 +01:00 [DBG] Closing connection to database 'main' on server '/Users/iediong/Code/tutorials/csharp-projects/CityInfo/CityInfo.API/CityInfo.db'.
2024-02-07 14:17:49.046 +01:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-02-07 14:17:49.046 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-02-07 14:17:49.046 +01:00 [DBG] No information found on request to perform content negotiation.
2024-02-07 14:17:49.046 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-02-07 14:17:49.046 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-02-07 14:17:49.046 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-02-07 14:17:49.047 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointsOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-02-07 14:17:49.047 +01:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 9.6512ms
2024-02-07 14:17:49.047 +01:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-02-07 14:17:49.047 +01:00 [DBG] Connection id "0HN17R3PNBID0" completed keep alive response.
2024-02-07 14:17:49.047 +01:00 [DBG] 'CityInfoContext' disposed.
2024-02-07 14:17:49.047 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7015/api/v2/cities - - - 200 247 application/json;+charset=utf-8 14.0815ms
2024-02-07 14:19:59.301 +01:00 [DBG] Connection id "0HN17R3PNBICU" disconnecting.
2024-02-07 14:19:59.303 +01:00 [DBG] Connection id "0HN17R3PNBID0" disconnecting.
2024-02-07 14:19:59.303 +01:00 [DBG] Connection id "0HN17R3PNBICU" stopped.
2024-02-07 14:19:59.304 +01:00 [DBG] Connection id "0HN17R3PNBICU" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-02-07 14:19:59.304 +01:00 [DBG] Connection id "0HN17R3PNBID0" stopped.
2024-02-07 14:19:59.306 +01:00 [DBG] Connection id "0HN17R3PNBID0" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-02-07 14:20:37.125 +01:00 [INF] Application is shutting down...
2024-02-07 14:20:37.127 +01:00 [DBG] Hosting stopping
2024-02-07 14:20:37.136 +01:00 [DBG] Hosting stopped
